(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(18),l=a.n(r),o=(a(57),a(59),a(32)),s=a(12),c=a(7),u=a(8),d=a(10),h=a(9),p=a(11),m=a(5),g=a(3),f=a(4),y=a(48),v=a.n(y),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={width:e.defaultRenderWidth},e.debounceTime?a.updateWidth=v()(a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),e.debounceTime):a.updateWidth=a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth)}},{key:"componentDidUpdate",value:function(){this.props.parentMayResize&&this.updateWidth()}},{key:"componentWillUnmount",value:function(){this.updateWidth.cancel(),window.removeEventListener("resize",this.updateWidth)}},{key:"getResizeDOMNode",value:function(){return l.a.findDOMNode(this)}},{key:"updateWidth",value:function(){var e=this.state.width,t=this.getResizeDOMNode().offsetWidth;e!==t&&this.setState({width:t})}},{key:"render",value:function(){var e=this.state.width;var t,a=this.props.children;return a&&null!=e&&(t=i.a.cloneElement(a,{width:this.state.width})),i.a.createElement("div",{className:"auto-width"},t)}}]),t}(n.Component);x.defaultProps={parentMayResize:!1,defaultRenderWidth:null,debounceTime:100};var b=x,k=a(15),w=a.n(k),E=a(16),O=a.n(E);var S=a(49);a(63);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=Object(S.a)({},{title:null,keys:null,keyFormat:function(e){return e},valueFormat:function(e){return e}},t)).keys=t.keys||Object.keys(e);var a="<div>";return t.title&&(a+="<h2>".concat(t.title,"</h2>")),a+="<table><tbody>",a+=t.keys.map(function(a){return a in e?"<tr><td>".concat(t.keyFormat(a),"</td><td>").concat(t.valueFormat(e[a]),"</td></tr>"):""}).join(""),a+="</tbody></table></div>"}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{xOffset:35,yOffset:-60,width:null},a=g.select("body").append("div").attr("class","tooltip").attr("id",e).html("");function n(){a.style("opacity",0).style("pointer-events","none")}function i(e){return Number(e.replace(/[^\d.-]/g,""))}function r(e){var n=t.xOffset,r=t.yOffset,l=i(a.style("width")),o=i(a.style("height")),s=window.scrollY,c=window.scrollX,u=document.all?e.clientX+c:e.pageX,d=document.all?e.clientY+s:e.pageY,h=u-c+2*n+l>window.innerWidth?u-l-n:u+n;h<c+n&&(h=c+n);var p=d-s+2*r+o>window.innerHeight?d-o-2*r:d+r;p<s+r&&(p=d+r),a.style("top",p+"px").style("left",h+"px")}return t.width&&a.style("width",t.width),n(),{showTooltip:function(e,t){a.style("opacity",1).style("pointer-events","all").html(e),r(t)},hideTooltip:n,updatePosition:r}}a(65);var j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={zooming:!1,showTable:!1},a.handleLassoSelect=a.handleLassoSelect.bind(Object(m.a)(Object(m.a)(a))),a.handleZoom=a.handleZoom.bind(Object(m.a)(Object(m.a)(a))),a.handleZoomingToggle=a.handleZoomingToggle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOver=a.handleMouseOver.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOut=a.handleMouseOut.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOverCircle=a.handleMouseOverCircle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOutCircle=a.handleMouseOutCircle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleLassoSelect",value:function(e){this.props.onFilter(e)}},{key:"handleZoom",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xFunc,i=e.yFunc,r=this.props,l=r.xScale,o=r.yScale;this.zoomTransform=g.event.transform,l=this.zoomTransform.rescaleX(l),o=this.zoomTransform.rescaleY(o),this.yAxis.call(a.scale(o)),this.xAxis.call(t.scale(l));this.highlightCircle(null),this.chart.selectAll(".dot").attr("cx",function(e){return l(n(e))}).attr("cy",function(e){return o(i(e))})}},{key:"handleZoomingToggle",value:function(){var e=this.state.zooming;this.setState({zooming:!e})}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,i=t.colorScale,r=t.colorBy,l=t.tooltipTextFunc,o=t.onHover,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),e?(this.highlight.style("display","").style("stroke",i(e[r])).attr("cx",c(a(e))).attr("cy",u(n(e))),l&&this.tooltip.showTooltip(l(e),g.event),this.annotation.attr("opacity",.3)):(this.highlight.style("display","none"),this.tooltip.hideTooltip(),this.annotation.attr("opacity",1)),o&&o(e)}},{key:"handleMouseOver",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,i=g.mouse(e);i=this.zoomTransform.invert(i);var r=a.find(i[0],i[1],n);this.highlightCircle(r&&r.data)}},{key:"handleMouseOut",value:function(){this.highlightCircle(null)}},{key:"handleMouseOverCircle",value:function(e){this.highlightCircle(e)}},{key:"handleMouseOutCircle",value:function(){this.highlightCircle(null)}},{key:"setup",value:function(){var e=this.props,t=e.plotHeight,a=e.plotWidth,n=e.radius,i=e.exactMouse,r=g.select(this.root);this.g=r.append("g"),this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",a).attr("height",t).style("fill","white");var l=this;i||this.underlay.on("mousemove",function(e){l.handleMouseOver(this,e)}).on("mouseleave",function(){l.handleMouseOut()}),this.setupZoom(this.underlay),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=A("_tooltip",{xOffset:5,yOffset:20}),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",2*n).style("fill","none").style("display","none"),this.annotation=this.g.append("g").classed("annotation",!0).attr("pointer-events","none"),this.xAxis=this.g.append("g").classed("x-axis",!0),this.yAxis=this.g.append("g").classed("y-axis",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"setupZoom",value:function(e){var t=this.props.zoomable;this.zoomTransform=g.zoomIdentity,t&&(this.zoom=g.zoom().scaleExtent([.25,8]).on("zoom",this.handleZoom),e.call(this.zoom))}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAnnotation(),this.updateAxes()}},{key:"updateAnnotation",value:function(){var e=this.props,t=e.data,a=e.labels,n=e.xFunc,i=e.yFunc,r=this.props,l=r.xScale,o=r.yScale,s=t.filter(function(e){return a[e.country]});l=this.zoomTransform.rescaleX(l),o=this.zoomTransform.rescaleY(o);var c=this.annotation.selectAll(".label").data(s,function(e){return e.country});c.enter().append("text").classed("label",!0).merge(c).attr("x",function(e){return l(n(e))}).attr("y",function(e){return function(e){return o(i(e))}(e)}).attr("dy",function(e){return"below"===a[e.country].position?15:3}).attr("dx",function(e){return"below"===a[e.country].position?null:8}).attr("text-anchor",function(e){return"below"===a[e.country].position?"middle":"start"}).text(function(e){return e.country})}},{key:"updateChart",value:function(){var e=this.props,t=e.data,a=e.selectedData,n=e.hoverData,i=e.xFunc,r=e.yFunc,l=e.colorValue,o=e.radius,s=e.exactMouse,c=this.props,u=c.xScale,d=c.yScale;u=this.zoomTransform.rescaleX(u),d=this.zoomTransform.rescaleY(d);var h=this.chart.selectAll(".dot").data(t.filter(function(e){return O()(i(e))&&O()(r(e))}),function(e){return e.key}),p=h.enter().append("circle").classed("dot",!0).merge(h);if(p.attr("cx",function(e){return u(i(e))}).attr("cy",function(e){return d(r(e))}).attr("r",o).attr("fill",l),s?p.on("mouseover",this.handleMouseOverCircle).on("mouseout",this.handleMouseOutCircle):p.style("pointer-events","none"),p.classed("highlight",!1).classed("dim",!1).classed("selected",!1),n&&n.values.length>0){var m=function(e){return n.values.includes(e.key)};p.classed("highlight",!1).classed("dim",!0).filter(m).classed("highlight",!0).classed("dim",!1).attr("r",1.5*o).raise().filter(m).classed("selected",!0).raise()}a&&a.values&&a.values.length>0&&p.filter(function(e){return e[a.key]&&(t=e[a.key],n=a.values,!(!t||!n)&&(Array.isArray(t)||(t=[t]),t.some(function(e){return n.includes(e)})));var t,n}).classed("highlight",!0).classed("dim",!1).raise(),h.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,i=e.yLabel,r=e.plotHeight,l=e.plotWidth,o=e.padding,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),this.xAxis.attr("transform","translate(".concat(0,", ",r,")")).call(t.scale(c)),this.yAxis.call(a.scale(u)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-r/2," ").concat(18-o.left,")")).text(i),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(r+o.top+o.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.height,n=t.width,r={height:a};return i.a.createElement("div",{className:"ScatterPlot"},i.a.createElement("div",{className:"chart-brush",style:r},i.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:a,width:n})))}}]),t}(n.PureComponent);j.defaultProps={data:[],labels:{},name:"scatter",brushable:!0,colorByFunc:function(){},height:400,hoverData:null,selectedData:null,width:300,onFilter:function(){},colorScale:function(){return"#ddd"},xFunc:function(e){return e.x},yFunc:function(e){return e.y},radius:4,xLabel:"",yLabel:"",zoomable:!1,exactMouse:!1};var z=w()(function(e){var t=e.data,a=e.height,n=e.width,i=e.xFunc,r=e.yFunc,l=e.colorByFunc,o=e.colorScale,s=e.exactMouse,c={top:20,right:20,bottom:50,left:60},u=n-c.left-c.right,d=a-c.top-c.bottom,h=g.extent(t,i),p=Math.round((h[1]-h[0])/20),m=g.scaleLinear().domain([h[0]-p,h[1]+p]).range([0,u]),f=g.extent(t,r),y=(f[1]-f[0])/20,v=g.scaleLinear().domain([f[0]-y,f[1]+y]).range([d,0]),x=function(e){return m(i(e))},b=function(e){return v(r(e))},k=g.axisLeft(v).tickSizeOuter(0).ticks(4),w=g.axisBottom(m).tickSizeOuter(0).ticks(4),E=g.voronoi()([]);if(!s){var O=function(){return Math.random()-.5};E=g.voronoi().x(function(e){return x(e)+O()}).y(function(e){return b(e)+O()}).size([u,d])(t)}return{plotWidth:u,plotHeight:d,padding:c,colorValue:function(e){return l(e)?o(l(e)):"#888"},xScale:m,yScale:v,xValue:x,yValue:b,xAxis:w,yAxis:k,voronoiDiagram:E,mouseRadius:u/10}})(j);function M(e,t){return Number("".concat(Math.round("".concat(e,"e").concat(t)),"e-").concat(t))}function C(e){e||(e=0);for(var t=(e=+e+"").split("."),a=t[0],n=t.length>1?".".concat(t[1]):"",i=/(\d+)(\d{3})/;i.test(a);)a=a.replace(i,"$1,$2");return a+n}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||(e=0),e>999999999?(e=M(e/1e9,1),"".concat(C(e),"B")):e>999999?(e=M(e/1e6,1),"".concat(C(e),"M")):e>999&&t?(e=M(e/1e3,1),"".concat(C(e),"K")):C(e)}var L=[-.05,1.05],_={hdi:{label:"Human Development Index",display:"hdi",global:"hdi_norm",local:"hdi_norm_local",sortable:"hdi_max"},gdp:{label:"GDP per Capita",display:"gdp_per_cap",global:"gdp_norm",local:"gdp_norm_local",sortable:"gdp_max"},gni:{label:"GNI per Capita",display:"gni_per_cap",global:"gni_norm",local:"gni_norm_local",sortable:"gni_max"},efree:{label:"Economic Freedom",display:"efree",global:"efree_norm",local:"efree_norm_local",sortable:"efree_max"},gini:{label:"Gini Index",display:"gini",global:"gini_norm",local:"gini_norm_local",sortable:"gini_max"},year:{label:"Year",display:"year"}},T={dataDisplay:{options:[{label:"HDI vs GDP",id:"hdi_gdp"},{label:"Economic Freedom vs GDP",id:"efree_gdp"},{label:"Gini vs GDP",id:"gini_gdp"},{label:"HDI vs Economic Freedom",id:"hdi_efree"},{label:"HDI vs Gini",id:"hdi_gini"},{label:"Gini vs Economic Freedom",id:"gini_efree"}]},sortOrder:{options:[{label:"By HDI",id:"hdi"},{label:"By GDP",id:"gdp"},{label:"By Economic Freedom",id:"efree"},{label:"By Gini Index",id:"gini"},{label:"By Region",id:"region"},{label:"Alphabetically",id:"alpha"}]},scale:{options:[{label:"Country-level",id:"local"},{label:"Global",id:"global"}]}},G={hdi:{"United States":{id:"United States",position:"below"},Singapore:{id:"Singapore",position:"below"},Italy:{id:"Italy",position:"below"},Iraq:{id:"Italy",position:"below"},Sudan:{id:"Italy",position:"right"},Chad:{id:"Italy",position:"right"}},efree:{"United States":{id:"United States",position:"below"},Singapore:{id:"Singapore",position:"below"},Italy:{id:"Italy",position:"below"},Iraq:{id:"Iraq",position:"below"},Algeria:{id:"Algeria",position:"below"},Chile:{id:"Chile",position:"below"},Switzerland:{id:"Switzerland",position:"below"}}},P={"Norway:hdi:gdp:local":[{year:2015,text:"Falling oil prices impact GDP.",dx:47,dy:-21}],"United Kingdom:hdi:gdp:local":[{year:2009,text:"The Great Recession.",dx:-38,dy:-26}],"Sweden:hdi:gdp:local":[{year:2009,text:"The Great Recession.",dx:-9,dy:-46}],"Libya:hdi:gdp:local":[{year:2011,text:"First Libyan Civil War.",dx:0,dy:-139}],"Iraq:hdi:gdp:local":[{year:2003,text:"US invades of Iraq for weapons of mass destruction.",dx:0,dy:-139}],"Zimbabwe:hdi:gdp:local":[{year:2009,text:"Power-sharing agreement between president and prime minister.",dx:0,dy:-109}],"Singapore:hdi:gdp:global":[{year:2010,text:"Singapore has one of the most open and least corrupt economies in the world.",dx:-5,dy:97}],"Singapore:efree:gdp:global":[{year:2010,text:"Singapore has one of the most open and least corrupt economies in the world.",dx:-5,dy:97}],"Azerbaijan:gini:gdp:local":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:gini:hdi:local":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:hdi:gini:local":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:gini:efree:local":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:gini:gdp:global":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:hdi:gini:global":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:65,dy:31}],"Azerbaijan:gini:efree:global":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:-26,dy:-38}],"El Salvador:efree:gdp:local":[{year:2011,text:"Bureaucracy, corruption, and government interference has erroded Economic Freedom.",dx:4,dy:-43}],"Sudan:hdi:gdp:local":[{year:2013,text:"South Sudanese Civil War.",dx:-1,dy:71}],"Haiti:hdi:gdp:local":[{year:2010,text:"2010 Haiti earthquake.",dx:0,dy:-90}],"Greece:hdi:gdp:local":[{year:2009,text:"Greek government debt crisis.",dx:-8,dy:98}],"Jordan:hdi:gdp:local":[{year:2011,text:"Arab Spring protests.",dx:-9,dy:58}]},N=a(50);a(91);var W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleMouseover=a.handleMouseover.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseout=a.handleMouseout.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleMouseover",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,i=g.mouse(e);i=this.zoomTransform.invert(i);var r=a.find(i[0],i[1],n);this.highlightCircle(r&&r.data)}},{key:"handleMouseout",value:function(e){this.highlightCircle(null)}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,i=t.colorScale,r=t.colorBy,l=t.tooltipTextFunc,o=t.onHover,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),e?(this.highlight.style("display","").style("stroke",i(e[r])).attr("cx",c(a(e))).attr("cy",u(n(e))),l&&this.tooltip.showTooltip(l(e),g.event)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),o&&o(e)}},{key:"setup",value:function(){var e=this.props,t=e.plotWidth,a=e.plotHeight,n=e.radius;this.zoomTransform=g.zoomIdentity;var i=g.select(this.root);this.g=i.append("g");var r=this;this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",t).attr("height",a).style("fill","white").style("opacity",.001).on("mousemove",function(e){r.handleMouseover(this,e)}).on("mouseleave",function(){r.handleMouseout()}),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=A("_tooltip",{xOffset:5,yOffset:20}),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("pointer-events","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0).style("pointer-events","none"),this.xAxis.append("line").classed("bar",!0),this.xAxis.append("text").classed("low",!0),this.xAxis.append("text").classed("high",!0),this.yAxis=this.g.append("g").classed("y-axis",!0).style("pointer-events","none"),this.yAxis.append("line").classed("bar",!0),this.yAxis.append("text").classed("low",!0),this.yAxis.append("text").classed("high",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAxes(),this.updateCanvas()}},{key:"updateLine",value:function(){var e=this.props,t=e.dataFiltered,a=e.line,n=e.lineWidth,i=this.chart.selectAll(".line").data([t]);i.enter().append("path").classed("line",!0).merge(i).attr("fill","none").attr("stroke","#888").attr("stroke-width",n).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("pointer-events","none").attr("d",a),i.exit().remove()}},{key:"updateChart",value:function(){var e=this.props,t=e.dataFiltered,a=e.xValue,n=e.yValue,i=e.colorValue,r=e.radius,l=this.chart.selectAll(".dot").data(t,function(e){return e.key}),o=l.enter().append("circle").classed("dot",!0).merge(l);o.attr("cx",a).attr("cy",n).attr("r",r).attr("fill",i),o.style("pointer-events","none"),l.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xMetric,a=e.yMetric,n=e.xLabel,i=e.yLabel,r=e.plotHeight,l=e.plotWidth,o=e.padding;this.xAxis.attr("transform","translate(".concat(0,", ",r,")")),this.xAxis.attr("font-size",10).attr("fill","none"),this.yAxis.attr("font-size",10).attr("fill","none");var s="gini"===t?"more equal":"low",c="gini"===t?"less equal":"high",u="gini"===a?"more equal":"low",d="gini"===a?"less equal":"high";this.xAxis.select(".bar").attr("x1",0).attr("x2",l).attr("y1",0).attr("y2",0).style("stroke-width",1).style("stroke","black").style("fill","none"),this.xAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").text(s),this.xAxis.select(".high").attr("y",9).attr("x",l).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").text(c),this.yAxis.select(".bar").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",r).style("stroke-width",1).style("stroke","black").style("fill","none"),this.yAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(-r," ").concat(18-o.left,")")).text(u),this.yAxis.select(".high").attr("y",9).attr("x",0).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(0," ",18-o.left,")")).text(d),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-r/2," ").concat(18-o.left,")")).text(i),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(r+o.top+o.bottom/3,")")).text(n)}},{key:"updateCanvas",value:function(){var e=this.props,t=e.dataBackground,a=e.sizeScale,n=e.width,i=e.height,r=e.padding,l=e.lineWidth,o=e.scale,s=e.lineCanvas,c=e.dataFiltered,u=e.colorValue,d=e.name,h=g.color("#ccc");h.opacity="global"===o?.7:.15;var p=this.canvas.getContext("2d");s.context(p),p.setTransform(1,0,0,1,0,0),p.scale(a,a),p.clearRect(0,0,n,i),p.translate(r.left,r.top),p.lineWidth=l,p.strokeStyle=h.toString(),t.forEach(function(e){e.key!==d&&(p.beginPath(),s(e.valuesFilter),p.stroke())}),p.lineWidth=l;for(var m=0;m<c.length-1;m++){var f=[c[m],c[m+1]],y=u(c[m]);p.strokeStyle=y.toString(),p.beginPath(),s(f),p.stroke()}}},{key:"updateAxesExact",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,i=e.yLabel,r=e.plotHeight,l=e.plotWidth,o=e.padding,s=e.xScale,c=e.yScale;this.xAxis.attr("transform","translate(".concat(0,", ",r,")")).call(t.scale(s)),this.yAxis.call(a.scale(c)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-r/2," ").concat(18-o.left,")")).text(i),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(r+o.top+o.bottom/3,")")).text(n)}},{key:"renderAnnotations",value:function(){var e=this.props,t=e.xValue,a=e.yValue,n=e.width,r=e.height,l=e.dataFiltered,o=e.annotations,s=e.padding;if(!o||0===o.length)return null;var c=o.map(function(e){var n=l.filter(function(t){return t.year===e.year});if(!n||0===n.length)return null;n=n[0];var r={label:e.text,lineType:"horizontal",align:null};return i.a.createElement(N.AnnotationCalloutElbow,{key:e.year,x:t(n),y:a(n),dx:e.dx,dy:e.dy,note:r,color:"black",editMode:!1,onDragEnd:function(e){return console.log(e)}})});return i.a.createElement("svg",{width:n,height:r,className:"annotations"},i.a.createElement("g",{transform:"translate(".concat(s.left,", ").concat(s.top,")")},c))}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.height,r=t.width,l=t.sizeScale,o={width:r,height:n};return i.a.createElement("div",{className:"ConnectedScatterPlot"},i.a.createElement("h4",{className:"title"},a),i.a.createElement("div",{className:"chart-container"},i.a.createElement("canvas",{className:"chart-canvas",ref:function(t){e.canvas=t},style:o,width:r*l,height:n*l}),i.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:n,width:r}),this.renderAnnotations()))}}]),t}(n.PureComponent);W.defaultProps={data:[],radius:4,height:300,width:300,name:"",xFunc:function(e){return e.x},yFunc:function(e){return e.x},xLabel:"",yLabel:"",tooltipTextFunc:function(e){return""},colorScale:function(){return"#ddd"},annotations:[]};var I=w()(function(e){var t=e.data,a=e.xFunc,n=e.yFunc,i=e.zFunc,r=e.colorScale,l=e.height,o=e.width,s=e.scale,c=e.xExtent,u=e.yExtent,d={top:20,right:20,bottom:40,left:40},h=1;window.devicePixelRatio&&(h=window.devicePixelRatio);var p="local"===s?5:2,m="local"===s?3:1,f=o-d.left-d.right,y=l-d.top-d.bottom,v=t.filter(function(e){return O()(a(e))&&O()(n(e))});c=c||g.extent(t,a);var x=g.scaleLinear().domain(c).range([0,f]);u=u||g.extent(t,n);var b=g.scaleLinear().domain(u).range([y,0]),k=function(e){return x(a(e))},w=function(e){return b(n(e))},E=g.line().x(k).y(w).curve(g.curveCardinal.tension(.3)),S=g.line().x(k).y(w).curve(g.curveCardinal.tension(.3)),F=function(e){return"#ddd"};r&&(F=function(e){return r(i(e))});var A=null;if(t&&t.length>0){var j=function(){return Math.random()-.5};A=g.voronoi().x(function(e){return k(e)+j()}).y(function(e){return w(e)+j()}).size([f,y])(v)}var z=f/3,M=g.axisLeft(b).tickSizeOuter(0),C=g.axisBottom(x).tickSizeOuter(0);return{dataFiltered:v,line:E,lineCanvas:S,padding:d,plotHeight:y,plotWidth:f,xScale:x,yScale:b,xValue:k,yValue:w,colorValue:F,radius:p,lineWidth:m,voronoiDiagram:A,mouseRadius:z,xAxis:C,yAxis:M,sizeScale:h}},{changeInclude:["data","dataBackground","scale","sortOrder","width","height","xMetric","yMetric"]})(W);a(93);var H=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderYear",value:function(e){var t=this.props,a=t.xScale,n=t.radius,r=t.colorScale;return i.a.createElement("g",{key:e,transform:"translate(".concat(a(e),",",0,")")},i.a.createElement("text",{className:"title",textAnchor:"middle"},e),i.a.createElement("circle",{cx:0,cy:13,r:n,fill:r(e)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.years,n=t.dotWidth,r=t.height,l=t.radius;return i.a.createElement("div",{className:"ColorLegend"},i.a.createElement("svg",{className:"dots",width:n+4*l,height:r},i.a.createElement("g",{transform:"translate(".concat(2*l,",").concat(r/4,")")},a.map(function(t){return e.renderYear(t)}))))}}]),t}(n.Component);H.defaultProps={height:40};var B=w()(function(e){var t=e.domain,a=g.range(t[0],t[1]+1,2);a[a.length-1]!==t[1]&&a.push(t[1]);var n=26*a.length;return{dotWidth:n,years:a,radius:8,xScale:g.scalePoint().domain(a).range([0,n])}})(H);a(95);var R=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderChart",value:function(e,t){var a=this.props,n=a.xFunc,r=a.yFunc,l=a.zFunc,o=a.xLabel,s=a.yLabel,c=a.zLabel,u=a.tooltipTextFunc,d=a.xMetric,h=a.yMetric,p=a.scale,m=a.colorScale,g=a.dataGrouped,y="".concat(e.key,":").concat(h,":").concat(d,":").concat(p),v=P[y];return i.a.createElement(f.a,{sm:4,key:e.key},i.a.createElement(b,null,i.a.createElement(I,{key:e.key,name:e.key,data:e.values,xFunc:n,yFunc:r,zFunc:l,xLabel:o,yLabel:s,zLabel:c,xExtent:L,yExtent:L,tooltipTextFunc:u,colorScale:m,xMetric:d,yMetric:h,scale:p,dataBackground:g,annotations:v})))}},{key:"renderRegion",value:function(e,t){var a=this.props,n=a.sortOrder,r=a.dataGrouped,l=e.region;if("region"===n){if(0===t)return i.a.createElement(f.a,{sm:12,key:l},i.a.createElement("h3",{className:"region"},l));if(l!==r[t-1].region)return i.a.createElement(f.a,{key:l,sm:12},i.a.createElement("h3",{className:"region"},l))}return null}},{key:"renderLegend",value:function(){var e=this.props.colorScale;return i.a.createElement(B,{colorScale:e,domain:[2001,2017]})}},{key:"render",value:function(){var e=this,t=this.props.dataGrouped;return i.a.createElement("div",{className:"SmallMultipleConnected"},i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:6},i.a.createElement("span",{className:"align-middle"},"Data from 2000 to 2017 for ",t.length," countries.")),i.a.createElement(f.a,{sm:6},this.renderLegend())),i.a.createElement(f.g,null,t.map(function(t,a){return[e.renderRegion(t,a),e.renderChart(t,a)]})))}}]),t}(n.Component);R.defaultProps={dataGrouped:[],xMetric:"hdi",yMetric:"gni",scale:"global",colorScale:function(e){return"#333"}};var V=w()(function(e){var t=e.xMetric,a=e.yMetric,n=e.scale,i=e.sortOrder,r=e.dataGrouped,l=_[t].label,o=_[a].label,c=_.year.label,u=function(e){return e[_[t][n]]},d=function(e){return e[_[a][n]]},h=function(e){return e[_.year.display]};return{dataGrouped:r=function(e,t,a,n,i){if(_[t]){var r="gini"===t?"ascending":"descending";e=e.sort(function(e,a){return g[r](e[_[t].sortable],a[_[t].sortable])})}else e="region"===t?e.sort(function(e,t){return g.ascending(e.region,t.region)}):e.sort(function(e,t){return g.ascending(e.key,t.key)});return e}(r=function(e,t,a,n){return e.filter(function(e){return e.valuesFilter=e.values.filter(function(e){return O()(a(e))&&O()(n(e))}),e.valuesFilter.length>t})}(r,3,u,d),i),xLabel:l,yLabel:o,zLabel:c,xFunc:u,yFunc:d,zFunc:h,tooltipTextFunc:function(e){var n;return F((n={},Object(s.a)(n,l,e[_[t].display]),Object(s.a)(n,o,e[_[a].display]),n),{title:"".concat(e.year),valueFormat:D})}}})(R);a(97);function q(e,t){return t.map(function(e){return e.id}).indexOf(e)}var Y=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(d.a)(this,Object(h.a)(t).call(this,e)),console.log(e);var n=e.configs;a.toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.click=a.click.bind(Object(m.a)(Object(m.a)(a)));var i=q(n.dataDisplay,T.dataDisplay.options);return a.state={dataDisplay:{dropdownOpen:!1,selectIndex:i,selectedId:T.dataDisplay.options[i].id},sortOrder:{dropdownOpen:!1,selectIndex:0,selectedId:T.sortOrder.options[0].id},scale:{dropdownOpen:!1,selectIndex:0,selectedId:T.scale.options[0].id}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.configs,t=this.state.dataDisplay,a=q(e.dataDisplay,T.dataDisplay.options);a!==t.selectIndex&&(t.selectIndex=a,t.selectedId=T.dataDisplay.options[a].id,this.setState({dataDisplay:t}))}},{key:"toggle",value:function(e){this.setState(function(t){var a=t[e];return a.dropdownOpen=!a.dropdownOpen,Object(s.a)({},e,a)})}},{key:"click",value:function(e,t,a){var n=this.props.onClick;this.setState(function(n){var i=n[e];return i.selectIndex=a,i.selectedId=t.id,Object(s.a)({},e,i)}),n&&n(e,t.id)}},{key:"renderDropdown",value:function(e){var t=this,a=this.state[e],n=T[e],r=n.options.map(function(a,n){return i.a.createElement(f.d,{key:a.id,onClick:t.click.bind(t,e,a,n)},a.label)}),l=n.options[a.selectIndex];return i.a.createElement(f.c,{isOpen:this.state[e].dropdownOpen,toggle:this.toggle.bind(this,e)},i.a.createElement(f.f,{caret:!0},l.label),i.a.createElement(f.e,null,r))}},{key:"render",value:function(){return"small"===this.props.size?i.a.createElement("div",{className:"ConfigurePanel"},"Showing ",this.renderDropdown("dataDisplay")):i.a.createElement("div",{className:"ConfigurePanel"},"Showing ",this.renderDropdown("dataDisplay")," sorted"," ",this.renderDropdown("sortOrder")," using a"," ",this.renderDropdown("scale")," scale.")}}]),t}(n.Component);a(99),a(101);var X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={hover:null},a.handleMouseover=a.handleMouseover.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseout=a.handleMouseout.bind(Object(m.a)(Object(m.a)(a))),a.highlightCircle=a.highlightCircle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleMouseover",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,i=g.mouse(e);i=this.zoomTransform.invert(i);var r=a.find(i[0],i[1],n);this.highlightCircle(r&&r.data)}},{key:"handleMouseout",value:function(e){this.highlightCircle(null)}},{key:"highlightCircle",value:function(e){var t,a,n=this.props,i=n.xFunc,r=n.yFunc,l=n.colorScale,o=n.colorBy,s=n.tooltipTextFunc,c=n.onHover,u=this.props,d=u.xScale,h=u.yScale,p=this.state.hover;d=this.zoomTransform.rescaleX(d),h=this.zoomTransform.rescaleY(h),e?(this.highlight.style("display","").style("stroke",l(e[o])).attr("cx",d(i(e))).attr("cy",h(r(e))),s&&this.tooltip.showTooltip(s(e),g.event)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),a=e,((t=p)||a)&&(!t&&a||t&&!a||t.key!==a.key)&&this.setState({hover:e}),c&&c(e)}},{key:"setup",value:function(){var e=this.props,t=e.plotWidth,a=e.plotHeight,n=e.radius;this.zoomTransform=g.zoomIdentity;var i=g.select(this.root);this.g=i.append("g");var r=this;this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",t).attr("height",a).style("fill","white").style("opacity",1e-4).on("mousemove",function(e){r.handleMouseover(this,e)}).on("mouseleave",function(){r.handleMouseout()}),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=A("_tooltip",{xOffset:15,yOffset:40}),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("pointer-events","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0).style("pointer-events","none"),this.xAxis.append("line").classed("bar",!0),this.xAxis.append("text").classed("low",!0),this.xAxis.append("text").classed("high",!0),this.yAxis=this.g.append("g").classed("y-axis",!0).style("pointer-events","none"),this.yAxis.append("line").classed("bar",!0),this.yAxis.append("text").classed("low",!0),this.yAxis.append("text").classed("high",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateAxes(),this.updateCanvas()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xMetric,a=e.yMetric,n=e.xLabel,i=e.yLabel,r=e.plotHeight,l=e.plotWidth,o=e.padding;this.xAxis.attr("transform","translate(".concat(0,", ",r,")")),this.xAxis.attr("font-size",10).attr("fill","none"),this.yAxis.attr("font-size",10).attr("fill","none");var s="gini"===t?"more equal":"low",c="gini"===t?"less equal":"high",u="gini"===a?"more equal":"low",d="gini"===a?"less equal":"high";this.xAxis.select(".bar").attr("x1",0).attr("x2",l).attr("y1",0).attr("y2",0).style("stroke-width",1).style("stroke","black").style("fill","none"),this.xAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").text(s),this.xAxis.select(".high").attr("y",9).attr("x",l).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").text(c),this.yAxis.select(".bar").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",r).style("stroke-width",1).style("stroke","black").style("fill","none"),this.yAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(-r," ").concat(18-o.left,")")).text(u),this.yAxis.select(".high").attr("y",9).attr("x",0).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(0," ",18-o.left,")")).text(d),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-r/2," ").concat(18-o.left,")")).text(i),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(r+o.top+o.bottom/3,")")).text(n)}},{key:"updateCanvas",value:function(){var e=this.props,t=e.dataBackground,a=e.sizeScale,n=e.width,i=e.height,r=e.padding,l=e.lineWidth,o=e.scale,s=e.lineCanvas,c=e.xValue,u=e.yValue,d=e.radius,h=e.colorValue,p=e.threshold,m=this.state.hover,f=this.canvas.getContext("2d");s.context(f),f.setTransform(1,0,0,1,0,0),f.scale(a,a),f.clearRect(0,0,n,i),f.translate(r.left,r.top),f.lineWidth=l;var y=g.color("#ccc");y.opacity="global"===o?.8:.15,f.strokeStyle=y.toString();var v=null;if(t.forEach(function(e){if(m&&m.country===e.key&&(v=e),e.valuesFilter.length>p){if(m)f.beginPath(),s(e.valuesFilter),f.stroke();else for(var t=0;t<e.valuesFilter.length-1;t++){var a=[e.valuesFilter[t],e.valuesFilter[t+1]],n=h(e.valuesFilter[t]);f.strokeStyle=n.toString(),f.beginPath(),s(a),f.stroke()}e.valuesFilter.forEach(function(e){var t=y;m||(t=h(e)),f.beginPath(),f.arc(c(e),u(e),d,0,2*Math.PI,!1),f.fillStyle=t.toString(),f.fill()})}}),(y=g.color("#888")).opacity="global"===o?.8:.15,f.strokeStyle=y.toString(),v){(y=g.color("white")).opacity=.8,f.lineWidth=5*l,f.strokeStyle=y.toString(),f.beginPath(),s(v.valuesFilter),f.stroke(),f.lineWidth=l,(y=g.color("#888")).opacity="global"===o?.8:.15,f.strokeStyle=y.toString(),f.beginPath(),s(v.valuesFilter),f.stroke();for(var x=0;x<v.valuesFilter.length-1;x++){var b=[v.valuesFilter[x],v.valuesFilter[x+1]],k=h(v.valuesFilter[x]);f.strokeStyle=k.toString(),f.beginPath(),s(b),f.stroke()}v.valuesFilter.forEach(function(e){var t=h(e);f.beginPath(),f.arc(c(e),u(e),d,0,2*Math.PI,!1),f.fillStyle=t.toString(),f.fill()})}}},{key:"updateAxesExact",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,i=e.yLabel,r=e.plotHeight,l=e.plotWidth,o=e.padding,s=e.xScale,c=e.yScale;this.xAxis.attr("transform","translate(".concat(0,", ",r,")")).call(t.scale(s)),this.yAxis.call(a.scale(c)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-r/2," ").concat(18-o.left,")")).text(i),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(r+o.top+o.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.height,r=t.width,l=t.sizeScale,o={width:r,height:n};return i.a.createElement("div",{className:"ConnectedScatterPlotGroups"},i.a.createElement("h4",{className:"title"},a),i.a.createElement("div",{className:"chart-container"},i.a.createElement("canvas",{className:"chart-canvas",ref:function(t){e.canvas=t},style:o,width:r*l,height:n*l}),i.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:n,width:r})))}}]),t}(n.Component);X.defaultProps={data:[],radius:4,height:300,width:300,name:"",xFunc:function(e){return e.x},yFunc:function(e){return e.x},xLabel:"",yLabel:"",tooltipTextFunc:function(e){return""},colorScale:function(){return"#ddd"}};var U=w()(function(e){var t=e.dataBackground,a=e.xFunc,n=e.yFunc,i=e.zFunc,r=e.colorScale,l=e.height,o=e.width,s=e.scale,c=e.xExtent,u=e.yExtent,d={top:20,right:20,bottom:40,left:40},h=1;window.devicePixelRatio&&(h=window.devicePixelRatio);var p="local"===s?5:2,m="local"===s?3:1,f=o-d.left-d.right,y=l-d.top-d.bottom,v=[];if(t.forEach(function(e){e.valuesFilter=e.values.filter(function(e){return O()(a(e))&&O()(n(e))}),e.valuesFilter.length>3&&(v=v.concat(e.valuesFilter)),e.meanX=g.mean(e.valuesFilter,a),e.meanY=g.mean(e.valuesFilter,n),c||(e.minX=g.min(e.valuesFilter,a),e.maxX=g.max(e.valuesFilter,a)),u||(e.minY=g.min(e.valuesFilter,n),e.maxY=g.max(e.valuesFilter,n))}),!c){var x=g.min(t,function(e){return e.minX}),b=g.max(t,function(e){return e.maxX});c=[x,b]}if(!u){var k=g.min(t,function(e){return e.minY}),w=g.max(t,function(e){return e.maxY});u=[k,w]}var E=g.scaleLinear().domain(c).range([0,f]),S=g.scaleLinear().domain(u).range([y,0]),F=function(e){return E(a(e))},A=function(e){return S(n(e))},j=g.line().x(F).y(A),z=g.line().x(F).y(A),M=function(e){return"#ddd"};r&&(M=function(e){return r(i(e))});var C,D=function(){return Math.random()-.5};C=g.voronoi().x(function(e){return F(e)+D()}).y(function(e){return A(e)+D()}).size([f,y])(v);var L=f/10,_=g.axisLeft(S).tickSizeOuter(0),T=g.axisBottom(E).tickSizeOuter(0);return{line:j,lineCanvas:z,threshold:3,padding:d,plotHeight:y,plotWidth:f,xScale:E,yScale:S,xValue:F,yValue:A,colorValue:M,radius:p,lineWidth:m,voronoiDiagram:C,mouseRadius:L,xAxis:T,yAxis:_,sizeScale:h}},{changeInclude:["dataBackground","scale","sortOrder","width","height","xMetric","yMetric"]})(X);var Z=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderBigGraph",value:function(){var e=this.props,t=e.dataGrouped,a=e.colorScale,n=e.scale,r=e.xLabel,l=e.yLabel,o=e.zLabel,s=e.xFunc,c=e.yFunc,u=e.zFunc,d=e.xMetric,h=e.yMetric,p=e.tooltipTextFunc;return i.a.createElement(b,null,i.a.createElement(U,{dataBackground:t,xMetric:d,yMetric:h,xFunc:s,yFunc:c,zFunc:u,xLabel:r,yLabel:l,zLabel:o,xExtent:L,yExtent:L,scale:n,colorScale:a,height:600,tooltipTextFunc:p}))}},{key:"render",value:function(){return this.renderBigGraph()}}]),t}(n.Component);Z.defaultProps={dataGrouped:[],xMetric:"hdi",yMetric:"gni",scale:"global",colorScale:function(e){return"#333"}};var J=w()(function(e){var t=e.xMetric,a=e.yMetric,n=_[t].label,i=_[a].label,r=_.year.label;return{scale:"global",xLabel:n,yLabel:i,zLabel:r,xFunc:function(e){return e[_[t].global]},yFunc:function(e){return e[_[a].global]},zFunc:function(e){return e[_.year.display]},tooltipTextFunc:function(e){var r;return F((r={},Object(s.a)(r,n,e[_[t].display]),Object(s.a)(r,i,e[_[a].display]),r),{title:"".concat(e.country," - ").concat(e.year),valueFormat:D})}}})(Z);var K=["country","iso3c","iso2c","region","sub-region"],$={gdp_per_cap:{decimals:0}},Q="NA";function ee(e,t,a){var n=g.min(e,function(e){return e[t]}),i=g.max(e,function(e){return e[t]});return e.forEach(function(e){e[a]=e[t]?(e[t]-n)/(i-n):NaN}),e}function te(e){e.forEach(function(e){Object.keys(e).forEach(function(t){K.includes(t)||(e[t]=e[t]===Q?null:+e[t]),$[t]&&(e[t]=e[t]?M(e[t],$[t].decimals):null)}),e.key="".concat(e.country,":").concat(e.year)});return ee(e=e.filter(function(e){return e.population>5e6}),"hdi","hdi_norm"),ee(e,"gni_per_cap","gni_norm"),ee(e,"efree","efree_norm"),ee(e,"gdp_per_cap","gdp_norm"),ee(e,"gini","gini_norm"),g.nest().key(function(e){return e.country}).entries(e).forEach(function(e){ee(e.values,"gdp_per_cap","gdp_norm_local"),ee(e.values,"gni_per_cap","gni_norm_local"),ee(e.values,"hdi","hdi_norm_local"),ee(e.values,"efree","efree_norm_local"),ee(e.values,"gini","gini_norm_local")}),e}var ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={data:[],dataGrouped:[],focusYear:2017,scatterHover:null,configs:{dataDisplay:"hdi_gdp",sortOrder:"hdi",scale:"local"},colorScale:g.scaleSequential(g.interpolateOranges).domain([1990,2020])},a.handleScatterHover=a.handleScatterHover.bind(Object(m.a)(Object(m.a)(a))),a.handleConfigClick=a.handleConfigClick.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleScatterHover",value:function(e){var t=this.state.scatterHover;e?t&&t.values.includes(e.key)||this.setState({scatterHover:{values:[e.key]}}):this.setState({scatterHover:null})}},{key:"handleConfigClick",value:function(e,t){var a=this.state.configs;a[e]=t,this.setState({configs:a})}},{key:"componentDidMount",value:function(){var e=this;(function(){var e="".concat("/world_gov_challenge","/data/gov_data_year.csv");return g.csv(e)})().then(te).then(function(t){var a=function(e){return g.nest().key(function(e){return e.country}).entries(e)}(t);a=function(e){return e.forEach(function(e){e.region=e.values[0].region||"Other",e[_.gdp.sortable]=g.max(e.values,function(e){return e[_.gdp.display]}),e[_.hdi.sortable]=g.max(e.values,function(e){return e[_.hdi.display]}),e[_.efree.sortable]=g.max(e.values,function(e){return e[_.efree.display]}),e[_.gini.sortable]=g.min(e.values,function(e){return e[_.gini.display]})}),e}(a),e.setState({data:t,dataGrouped:a})})}},{key:"renderScatterGNIvsKDI",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,r=t.filter(function(e){return e.year===a}),l=function(e){return e.hdi},o=function(e){return e.gdp_per_cap},c="Human Development Index";return i.a.createElement(b,null,i.a.createElement(z,{data:r,xFunc:o,yFunc:l,xLabel:"GDP per Capita",yLabel:c,hoverData:n,tooltipTextFunc:function(e){var t;return F((t={},Object(s.a)(t,"GDP per Capita",o(e)),Object(s.a)(t,c,l(e)),t),{title:e.country,valueFormat:D})},onHover:this.handleScatterHover,labels:G.hdi}))}},{key:"renderScatterGNIvsEfree",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,r=t.filter(function(e){return e.year===a}),l=function(e){return e.gdp_per_cap},o=function(e){return e.efree},c="Economic Freedom Score";return i.a.createElement(b,null,i.a.createElement(z,{data:r,xFunc:l,yFunc:o,xLabel:"GDP per Capita",yLabel:c,hoverData:n,tooltipTextFunc:function(e){var t;return F((t={},Object(s.a)(t,"GDP per Capita",l(e)),Object(s.a)(t,c,o(e)),t),{title:e.country,valueFormat:D})},onHover:this.handleScatterHover,labels:G.efree}))}},{key:"renderBigGraph",value:function(){var e=this.state,t=e.data,a=e.dataGrouped,n=e.configs,r=e.colorScale,l=n.dataDisplay.split("_"),s=Object(o.a)(l,2),c=s[0],u=s[1];return i.a.createElement(J,{data:t,dataGrouped:a,colorScale:r,xMetric:u,yMetric:c})}},{key:"renderSmallMult",value:function(){var e=this.state,t=e.dataGrouped,a=e.configs,n=e.colorScale,r=a.dataDisplay.split("_"),l=Object(o.a)(r,2),s=l[0],c=l[1];return i.a.createElement(V,{dataGrouped:t,xMetric:c,yMetric:s,scale:a.scale,sortOrder:a.sortOrder,colorScale:n})}},{key:"renderConfigPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.configs;return i.a.createElement(Y,{configs:t,size:e,onClick:this.handleConfigClick})}},{key:"renderLegend",value:function(){var e=this.state.colorScale;return i.a.createElement(B,{colorScale:e,domain:[2001,2017]})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(f.b,null,i.a.createElement(f.g,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"top-bar"},i.a.createElement("a",{className:"align-middle float-right",href:"http://vallandingham.me/",target:"_blank",rel:"noopener noreferrer"},"vallandingham.me")))),i.a.createElement(f.g,null,i.a.createElement(f.a,null,i.a.createElement("h1",null,"Good Governments Help People Succeed"),i.a.createElement("h5",{className:"author"},"by Jim Vallandingham"))),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:2}),i.a.createElement(f.a,{sm:9},i.a.createElement("div",{className:"blank"}),i.a.createElement("p",null,"What makes a \u201cgood\u201d government?"),i.a.createElement("p",null,"When answering this question, it is easy to fall back on a commonly used measurement like the"," ",i.a.createElement("strong",null,"Gross Domestic Product (GDP)")," that showcases a government\u2019s power and progress. The GDP measures the value of goods and services produced in a period of time. It ranks countries, and their governments, by output, with more output being associated with a \u201cbetter\u201d government."),i.a.createElement("p",null,"Economic progress is a tempting answer for what makes a government successful but metrics like the GDP"," ",i.a.createElement("strong",null,"fail")," to explain what makes a government good or bad for the ",i.a.createElement("strong",null,"individuals")," living under that government. A high GDP doesn\u2019t necessarily mean a high quality of life."),i.a.createElement("blockquote",{cite:"Thomas Jefferson"},"The care of human life and happiness, and not their destruction, is the first and only object of good government."),i.a.createElement("p",null,"We, as governed people, need to take a more nuanced look at the quality of government, through the lense of social well-being and enablement of individual progress."))),i.a.createElement(f.g,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"blank"}),i.a.createElement("h2",null,"New Metrics to Understand Progress"))),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:2}),i.a.createElement(f.a,{sm:9},i.a.createElement("div",{className:"line"}),i.a.createElement("p",null,"From a data perspective, many organizations and researchers have developed a variety of metrics that can be used to better understand a government\u2019s individual impact. We will focus on three of these measurements."),i.a.createElement("p",null,"The ",i.a.createElement("strong",null,"Human Development Index (HDI)")," combines statistics on life expectancy, education, and income per capita to rank countries into tiers of development. This index provides a measure of how good a government is at enabling individuals to do the things they want to do, and be the people they want to be."),i.a.createElement("p",null,"The ",i.a.createElement("strong",null,"Economic Freedom Score"),", calculated by the Heritage Foundation, tracks how well a government enables an individual the freedom to work, produce, consume, and invest in any way they please."),i.a.createElement("p",null,"The ",i.a.createElement("strong",null,"Gini Index")," is a measure of inequality in the distribution of individual or family income. A"," ",i.a.createElement("strong",null,"lower")," value indicates a more equal distribution of wealth."),i.a.createElement("p",null,"The good news is that these individual well-being metrics are correlated with economic performance metrics like GDP."))),i.a.createElement(f.g,null,i.a.createElement(f.a,{md:6},this.renderScatterGNIvsKDI()),i.a.createElement(f.a,{md:6},this.renderScatterGNIvsEfree())),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:2}),i.a.createElement(f.a,{sm:9},i.a.createElement("div",{className:"blank"}),i.a.createElement("p",null,"Governments ",i.a.createElement("strong",null,"can")," achieve success in being good for both the individuals being governed, and good in the amount of wealth produced."),i.a.createElement("div",{className:"blank"}))),i.a.createElement(f.g,null,i.a.createElement(f.a,null,i.a.createElement("h2",null,"Progress Over Time"))),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:2}),i.a.createElement(f.a,{sm:9},i.a.createElement("div",{className:"line"}),i.a.createElement("p",null,"This simple snapshot of government performance on these metrics is useful, but what is perhaps more interesting is a country\u2019s progress over time, and how values for an individual country change year by year."),i.a.createElement("p",null,"The visualization below allows comparison and exploration of these metrics through ",i.a.createElement("strong",null,"connected scatterplots")," ","for each country."),i.a.createElement("p",null,"The graph uses the x and y dimensions to plot different metrics, with each year of data displayed connected together by a line."),i.a.createElement("p",null,"Display options allow us to find connections between countries and patterns within a country, both at a global scale, and also at a country-level scale for seeing year-to-year changes up close. After exploring the visualization"," ",i.a.createElement("a",{href:"http://vallandingham.me/world_gov_challenge/analysis.nb.html",target:"_blank",rel:"noopener noreferrer"},"check out the analysis behind it"),"."),i.a.createElement("p",null,"With this visualization, we can see the progress of the governments of the world toward or away from what is good for their peoples, as well as what is good for economic growth."))),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:12},i.a.createElement("div",{className:"blank"}))),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:6},this.renderConfigPanel("small")),i.a.createElement(f.a,{sm:6},this.renderLegend())),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:12},this.renderBigGraph())),i.a.createElement(f.g,null,i.a.createElement("div",{className:"blank"}),i.a.createElement(f.a,{sm:12},this.renderConfigPanel())),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:12},this.renderSmallMult())),i.a.createElement(f.g,null,i.a.createElement("div",{className:"blank"})),i.a.createElement(f.g,null,i.a.createElement(f.a,{sm:12,className:"footer"},i.a.createElement("p",null,"Jim Vallandingham |"," ",i.a.createElement("a",{href:"http://vallandingham.me"},"vallandingham.me")," |"," ",i.a.createElement("a",{href:"http://vallandingham.me/world_gov_challenge/analysis.nb.html"},"Analysis")," ","| Developed for the"," ",i.a.createElement("a",{href:"https://wdvp.worldgovernmentsummit.org/"},"World Data Visualization Prize"))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t,a){e.exports=a(103)},57:function(e,t,a){},59:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[52,2,1]]]);
//# sourceMappingURL=main.0633c3ed.chunk.js.map