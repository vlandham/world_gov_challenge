(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(50)},30:function(e,t,a){},32:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(12),o=a.n(i),l=(a(30),a(32),a(24)),s=a(6),c=a(7),u=a(8),d=a(10),h=a(9),p=a(11),m=a(4),f=a(3),y=a(5),v=a(21),g=a.n(v),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={width:e.defaultRenderWidth},e.debounceTime?a.updateWidth=g()(a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),e.debounceTime):a.updateWidth=a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth)}},{key:"componentDidUpdate",value:function(){this.props.parentMayResize&&this.updateWidth()}},{key:"componentWillUnmount",value:function(){this.updateWidth.cancel(),window.removeEventListener("resize",this.updateWidth)}},{key:"getResizeDOMNode",value:function(){return o.a.findDOMNode(this)}},{key:"updateWidth",value:function(){var e=this.state.width,t=this.getResizeDOMNode().offsetWidth;e!==t&&this.setState({width:t})}},{key:"render",value:function(){var e=this.state.width;var t,a=this.props.children;return a&&null!=e&&(t=r.a.cloneElement(a,{width:this.state.width})),r.a.createElement("div",{className:"auto-width"},t)}}]),t}(n.Component);x.defaultProps={parentMayResize:!1,defaultRenderWidth:null,debounceTime:100};var b=x,k=a(14),O=a.n(k),E=a(13),j=a.n(E);var w=a(22);a(36);function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=Object(w.a)({},{title:null,keys:null,keyFormat:function(e){return e},valueFormat:function(e){return e}},t)).keys=t.keys||Object.keys(e);var a="<div>";return t.title&&(a+="<h2>".concat(t.title,"</h2>")),a+="<table><tbody>",a+=t.keys.map(function(a){return a in e?"<tr><td>".concat(t.keyFormat(a),"</td><td>").concat(t.valueFormat(e[a]),"</td></tr>"):""}).join(""),a+="</tbody></table></div>"}function S(e,t){var a=f.n("body").append("div").attr("class","tooltip").attr("id",e).html("");function n(){a.style("opacity",0).style("pointer-events","none")}function r(e){return Number(e.replace(/[^\d.-]/g,""))}function i(e){var t=r(a.style("width")),n=r(a.style("height")),i=window.scrollY,o=window.scrollX,l=document.all?e.clientX+o:e.pageX,s=document.all?e.clientY+i:e.pageY,c=l-o+70+t>window.innerWidth?l-t-35:l+35;c<o+35&&(c=o+35);var u=s-i-120+n>window.innerHeight?s-n- -120:s+-60;u<i+-60&&(u=s+-60),a.style("top",u+"px").style("left",c+"px")}return t&&a.style("width",t),n(),{showTooltip:function(e,t){a.style("opacity",1).style("pointer-events","all").html(e),i(t)},hideTooltip:n,updatePosition:i}}a(38);var F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={zooming:!1,showTable:!1},a.handleLassoSelect=a.handleLassoSelect.bind(Object(m.a)(Object(m.a)(a))),a.handleZoom=a.handleZoom.bind(Object(m.a)(Object(m.a)(a))),a.handleZoomingToggle=a.handleZoomingToggle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOver=a.handleMouseOver.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOut=a.handleMouseOut.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOverCircle=a.handleMouseOverCircle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOutCircle=a.handleMouseOutCircle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleLassoSelect",value:function(e){this.props.onFilter(e)}},{key:"handleZoom",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xFunc,r=e.yFunc,i=this.props,o=i.xScale,l=i.yScale;this.zoomTransform=f.d.transform,o=this.zoomTransform.rescaleX(o),l=this.zoomTransform.rescaleY(l),this.yAxis.call(a.scale(l)),this.xAxis.call(t.scale(o));this.highlightCircle(null),this.chart.selectAll(".dot").attr("cx",function(e){return o(n(e))}).attr("cy",function(e){return l(r(e))})}},{key:"handleZoomingToggle",value:function(){var e=this.state.zooming;this.setState({zooming:!e})}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,r=t.colorScale,i=t.colorBy,o=t.tooltipTextFunc,l=t.onHover,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),e?(this.highlight.style("display","").style("stroke",r(e[i])).attr("cx",c(a(e))).attr("cy",u(n(e))),o&&this.tooltip.showTooltip(o(e),f.d)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),l&&l(e)}},{key:"handleMouseOver",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=f.j(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseOut",value:function(){this.highlightCircle(null)}},{key:"handleMouseOverCircle",value:function(e){this.highlightCircle(e)}},{key:"handleMouseOutCircle",value:function(){this.highlightCircle(null)}},{key:"setup",value:function(){var e=this.props,t=(e.zoomable,e.plotHeight),a=e.plotWidth,n=e.radius,r=e.exactMouse,i=f.n(this.root);this.g=i.append("g"),this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",a).attr("height",t).style("fill","white");var o=this;r||this.underlay.on("mousemove",function(e){o.handleMouseOver(this,e)}).on("mouseleave",function(){o.handleMouseOut()}),this.setupZoom(this.underlay),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=S("_tooltip"),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0),this.yAxis=this.g.append("g").classed("y-axis",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"setupZoom",value:function(e){var t=this.props.zoomable;this.zoomTransform=f.q,t&&(this.zoom=f.p().scaleExtent([.25,8]).on("zoom",this.handleZoom),e.call(this.zoom))}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAxes()}},{key:"updateChart",value:function(){var e=this.props,t=e.data,a=e.selectedData,n=e.hoverData,r=e.xFunc,i=e.yFunc,o=e.colorValue,l=e.radius,s=e.exactMouse,c=this.props,u=c.xScale,d=c.yScale;u=this.zoomTransform.rescaleX(u),d=this.zoomTransform.rescaleY(d);var h=this.chart.selectAll(".dot").data(t.filter(function(e){return j()(r(e))&&j()(i(e))}),function(e){return e.key}),p=h.enter().append("circle").classed("dot",!0).merge(h);if(p.attr("cx",function(e){return u(r(e))}).attr("cy",function(e){return d(i(e))}).attr("r",l).attr("fill",o),s?p.on("mouseover",this.handleMouseOverCircle).on("mouseout",this.handleMouseOutCircle):p.style("pointer-events","none"),p.classed("highlight",!1).classed("dim",!1).classed("selected",!1),n&&n.values.length>0){var m=function(e){return n.values.includes(e.key)};p.classed("highlight",!1).classed("dim",!0).filter(m).classed("highlight",!0).classed("dim",!1).raise().filter(m).classed("selected",!0).raise()}a&&a.values&&a.values.length>0&&p.filter(function(e){return e[a.key]&&(t=e[a.key],n=a.values,!(!t||!n)&&(Array.isArray(t)||(t=[t]),t.some(function(e){return n.includes(e)})));var t,n}).classed("highlight",!0).classed("dim",!1).raise(),h.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,o=e.plotWidth,l=e.padding,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(c)),this.yAxis.call(a.scale(u)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-l.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(o/2," ").concat(i+l.top+l.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.height,n=t.width,i={height:a};return r.a.createElement("div",{className:"ScatterPlot"},r.a.createElement("div",{className:"chart-brush",style:i},r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:a,width:n})))}}]),t}(n.PureComponent);F.defaultProps={data:[],name:"scatter",brushable:!0,colorByFunc:function(){},height:400,hoverData:null,selectedData:null,width:300,onFilter:function(){},colorScale:function(){return"#ddd"},xFunc:function(e){return e.x},yFunc:function(e){return e.y},radius:4,xLabel:"",yLabel:"",zoomable:!1,exactMouse:!1};var M=O()(function(e){var t=e.data,a=e.height,n=e.width,r=e.xFunc,i=e.yFunc,o=e.colorByFunc,l=e.colorScale,s=e.exactMouse,c={top:20,right:20,bottom:50,left:60},u=n-c.left-c.right,d=a-c.top-c.bottom,h=f.e(t,r),p=f.l().domain(h).range([0,u]),m=f.e(t,i),y=f.l().domain(m).range([d,0]),v=function(e){return p(r(e))},g=function(e){return y(i(e))},x=f.b(y).tickSizeOuter(0),b=f.a(p).tickSizeOuter(0),k=f.o()([]);if(!s){var O=function(){return Math.random()-.5};k=f.o().x(function(e){return v(e)+O()}).y(function(e){return g(e)+O()}).size([u,d])(t)}return{plotWidth:u,plotHeight:d,padding:c,colorValue:function(e){return o(e)?l(o(e)):"#888"},xScale:p,yScale:y,xValue:v,yValue:g,xAxis:b,yAxis:x,voronoiDiagram:k,mouseRadius:u/10}})(F);function _(e,t){return Number("".concat(Math.round("".concat(e,"e").concat(t)),"e-").concat(t))}function C(e){e||(e=0);for(var t=(e=+e+"").split("."),a=t[0],n=t.length>1?".".concat(t[1]):"",r=/(\d+)(\d{3})/;r.test(a);)a=a.replace(r,"$1,$2");return a+n}function z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||(e=0),e>999999999?(e=_(e/1e9,1),"".concat(C(e),"B")):e>999999?(e=_(e/1e6,1),"".concat(C(e),"M")):e>999&&t?(e=_(e/1e3,1),"".concat(C(e),"K")):C(e)}a(40);var L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleMouseover=a.handleMouseover.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseout=a.handleMouseout.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleMouseover",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=f.j(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseout",value:function(e){this.highlightCircle(null)}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,r=t.colorScale,i=t.colorBy,o=t.tooltipTextFunc,l=t.onHover,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),e?(this.highlight.style("display","").style("stroke",r(e[i])).attr("cx",c(a(e))).attr("cy",u(n(e))),o&&this.tooltip.showTooltip(o(e),f.d)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),l&&l(e)}},{key:"setup",value:function(){var e=this.props,t=e.plotWidth,a=e.plotHeight,n=e.radius;this.zoomTransform=f.q;var r=f.n(this.root);this.g=r.append("g");var i=this;this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",t).attr("height",a).style("fill","white").on("mousemove",function(e){i.handleMouseover(this,e)}).on("mouseleave",function(){i.handleMouseout()}),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=S("_tooltip"),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("pointer-events","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0).style("pointer-events","none"),this.xAxis.append("line").classed("bar",!0),this.xAxis.append("text").classed("low",!0),this.xAxis.append("text").classed("high",!0),this.yAxis=this.g.append("g").classed("y-axis",!0).style("pointer-events","none"),this.yAxis.append("line").classed("bar",!0),this.yAxis.append("text").classed("low",!0),this.yAxis.append("text").classed("high",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAxes()}},{key:"updateLine",value:function(){var e=this.props,t=e.dataFiltered,a=e.line,n=e.lineWidth,r=this.chart.selectAll(".line").data([t]);r.enter().append("path").classed("line",!0).merge(r).attr("fill","none").attr("stroke","#888").attr("stroke-width",n).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",a),r.exit().remove()}},{key:"updateChart",value:function(){var e=this.props,t=e.dataFiltered,a=e.xValue,n=e.yValue,r=e.colorValue,i=e.radius;this.updateLine();var o=this.chart.selectAll(".dot").data(t,function(e){return e.key}),l=o.enter().append("circle").classed("dot",!0).merge(o);l.attr("cx",a).attr("cy",n).attr("r",i).attr("fill",r),l.style("pointer-events","none"),o.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xLabel,a=e.yLabel,n=e.plotHeight,r=e.plotWidth,i=e.padding;this.xAxis.attr("transform","translate(".concat(0,", ",n,")")),this.xAxis.attr("font-size",10).attr("fill","none"),this.yAxis.attr("font-size",10).attr("fill","none"),this.xAxis.select(".bar").attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0).style("stroke-width",1).style("stroke","black").style("fill","none"),this.xAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").text("low"),this.xAxis.select(".high").attr("y",9).attr("x",r).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").text("high"),this.yAxis.select(".bar").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",n).style("stroke-width",1).style("stroke","black").style("fill","none"),this.yAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(-n," ").concat(18-i.left,")")).text("low"),this.yAxis.select(".high").attr("y",9).attr("x",0).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(0," ",18-i.left,")")).text("high"),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-n/2," ").concat(18-i.left,")")).text(a),this.xAxisLabel.attr("transform","translate(".concat(r/2," ").concat(n+i.top+i.bottom/3,")")).text(t)}},{key:"updateAxesold",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,o=e.plotWidth,l=e.padding,s=e.xScale,c=e.yScale;this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(s)),this.yAxis.call(a.scale(c)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-l.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(o/2," ").concat(i+l.top+l.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.height,i=t.width;return r.a.createElement("div",{className:"ConnectedScatterPlot"},r.a.createElement("h4",{className:"title"},a),r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:n,width:i}))}}]),t}(n.PureComponent);L.defaultProps={data:[],radius:4,height:300,name:"",xFunc:function(e){return e.x},yFunc:function(e){return e.x},xLabel:"",yLabel:"",tooltipTextFunc:function(e){return""},colorScale:function(){return"#ddd"}};var D=O()(function(e){var t=e.data,a=e.xFunc,n=e.yFunc,r=e.zFunc,i=e.colorScale,o=e.height,l=e.width,s=e.scale,c=e.xExtent,u=e.yExtent,d={top:20,right:20,bottom:40,left:40},h="local"===s?5:2,p="local"===s?3:1,m=l-d.left-d.right,y=o-d.top-d.bottom,v=t.filter(function(e){return j()(a(e))&&j()(n(e))});c=c||f.e(t,a);var g=f.l().domain(c).range([0,m]);u=u||f.e(t,n);var x=f.l().domain(u).range([y,0]),b=function(e){return g(a(e))},k=function(e){return x(n(e))},O=f.g().x(b).y(k),E=function(e){return"#ddd"};i&&(E=function(e){return i(r(e))});var w=null;if(t&&t.length>0){var A=function(){return Math.random()-.5};w=f.o().x(function(e){return b(e)+A()}).y(function(e){return k(e)+A()}).size([m,y])(v)}var S=m/3,F=f.b(x).tickSizeOuter(0),M=f.a(g).tickSizeOuter(0);return{dataFiltered:v,line:O,padding:d,plotHeight:y,plotWidth:m,xScale:g,yScale:x,xValue:b,yValue:k,colorValue:E,radius:h,lineWidth:p,voronoiDiagram:w,mouseRadius:S,xAxis:M,yAxis:F}},{changeInclude:["data","width","height","xMetric","yMetric"]})(L),T=(a(42),{hdi:{label:"Human Development Index",display:"hdi",global:"hdi_norm",local:"hdi_norm_local"},gdp:{label:"GDP per Capita",display:"gdp_per_cap",global:"gdp_norm",local:"gdp_norm_local"},gni:{label:"GNI per Capita",display:"gni_per_cap",global:"gni_norm",local:"gni_norm_local"},efree:{label:"Economic Freedom",display:"efree",global:"efree_norm",local:"efree_norm_local"},year:{label:"Year",display:"year"}}),N={dataDisplay:{options:[{label:"HDI vs GDP",id:"hdi_gdp"},{label:"Economic Freedom vs GDP",id:"efree_gdp"},{label:"HDI vs Economic Freedom",id:"hdi_efree"}]},sortOrder:{options:[{label:"Alphabetically",id:"alpha"}]},scale:{options:[{label:"Country-level",id:"local"},{label:"Global",id:"global"}]}};var H=[-.1,1.1],W=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderChart",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,i=t.zFunc,o=t.xLabel,l=t.yLabel,s=t.zLabel,c=t.tooltipTextFunc,u=t.xMetric,d=t.yMetric,h=t.scale,p=t.colorScale;return r.a.createElement("div",{key:e.key,className:"small-multiple"},r.a.createElement(b,null,r.a.createElement(D,{key:e.key,name:e.key,data:e.values,xFunc:a,yFunc:n,zFunc:i,xLabel:o,yLabel:l,zLabel:s,xExtent:H,yExtent:H,tooltipTextFunc:c,colorScale:p,xMetric:u,yMetric:d,scale:h})))}},{key:"render",value:function(){var e=this,t=this.props.dataGrouped;return r.a.createElement("div",{className:"SmallMultipleConnected"},t.map(function(t){return e.renderChart(t)}))}}]),t}(n.Component);W.defaultProps={data:[],xMetric:"hdi",yMetric:"gni",scale:"global"};var I=O()(function(e){var t=e.xMetric,a=e.yMetric,n=e.scale,r=(e.sortOrder,f.k().key(function(e){return e.country}).entries(e.data)),i=T[t].label,o=T[a].label,l=T.year.label,c=function(e){return e[T[t][n]]},u=function(e){return e[T[a][n]]},d=function(e){return e[T.year.display]};r=r=function(e,t,a,n){return e.filter(function(e){return e.values.filter(function(e){return j()(a(e))&&j()(n(e))}).length>t})}(r,4,c,u);var h=f.m(f.f).domain([1990,2020]);return console.log(r),{dataGrouped:r,xLabel:i,yLabel:o,zLabel:l,xFunc:c,yFunc:u,zFunc:d,colorScale:h,tooltipTextFunc:function(e){var n;return A((n={},Object(s.a)(n,i,e[T[t].display]),Object(s.a)(n,o,e[T[a].display]),n),{title:"".concat(e.year),valueFormat:z})}}})(W),G=(a(44),a(46),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.click=a.click.bind(Object(m.a)(Object(m.a)(a))),a.state={dataDisplay:{dropdownOpen:!1,selectIndex:0,selectedId:N.dataDisplay.options[0].id},sortOrder:{dropdownOpen:!1,selectIndex:0,selectedId:N.sortOrder.options[0].id},scale:{dropdownOpen:!1,selectIndex:0,selectedId:N.scale.options[0].id}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(e){this.setState(function(t){var a=t[e];return a.dropdownOpen=!a.dropdownOpen,Object(s.a)({},e,a)})}},{key:"click",value:function(e,t,a){var n=this.props.onClick;this.setState(function(n){var r=n[e];return r.selectIndex=a,r.selectedId=t.id,Object(s.a)({},e,r)}),n&&n(e,t.id)}},{key:"renderDropdown",value:function(e){var t=this,a=this.state[e],n=N[e],i=n.options.map(function(a,n){return r.a.createElement(y.d,{key:a.id,onClick:t.click.bind(t,e,a,n)},a.label)}),o=n.options[a.selectIndex];return r.a.createElement(y.c,{isOpen:this.state[e].dropdownOpen,toggle:this.toggle.bind(this,e)},r.a.createElement(y.f,{caret:!0},o.label),r.a.createElement(y.e,null,i))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ConfigurePanel"},"Displaying ",this.renderDropdown("dataDisplay")," sorted"," ",this.renderDropdown("sortOrder")," for country data from 2010 to 2017 using a ",this.renderDropdown("scale")," scale.")}}]),t}(n.Component));var P=["country","iso3c","iso2c","region","sub-region"],Y={gdp_per_cap:3},V="NA";function B(e,t,a){var n=f.i(e,function(e){return e[t]}),r=f.h(e,function(e){return e[t]});return e.forEach(function(e){e[a]=e[t]?(e[t]-n)/(r-n):NaN}),e}function R(e){e.forEach(function(e){Object.keys(e).forEach(function(t){P.includes(t)||(e[t]=e[t]===V?null:+e[t]),Y[t]&&(e[t]=e[t]?_(e[t],Y[t]):null)}),e.key="".concat(e.country,":").concat(e.year)});return B(e=e.filter(function(e){return e.population>5e6}),"hdi","hdi_norm"),B(e,"gni_per_cap","gni_norm"),B(e,"efree","efree_norm"),B(e,"gdp_per_cap","gdp_norm"),f.k().key(function(e){return e.country}).entries(e).forEach(function(e){B(e.values,"gdp_per_cap","gdp_norm_local"),B(e.values,"gni_per_cap","gni_norm_local"),B(e.values,"hdi","hdi_norm_local"),B(e.values,"efree","efree_norm_local")}),e}var Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={data:[],focusYear:2017,scatterHover:null,configs:{dataDisplay:"hdi_gdp",sortOrder:"alpha",scale:"local"}},a.handleScatterHover=a.handleScatterHover.bind(Object(m.a)(Object(m.a)(a))),a.handleConfigClick=a.handleConfigClick.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleScatterHover",value:function(e){var t=this.state.scatterHover;e?t&&t.values.includes(e.key)||this.setState({scatterHover:{values:[e.key]}}):this.setState({scatterHover:null})}},{key:"handleConfigClick",value:function(e,t){var a=this.state.configs;a[e]=t,this.setState({configs:a})}},{key:"componentDidMount",value:function(){var e=this;(function(){var e="".concat("/world_gov_challenge","/data/gov_data_year.csv");return f.c(e)})().then(R).then(function(t){console.log(t),e.setState({data:t})})}},{key:"renderScatterGNIvsKDI",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,i=t.filter(function(e){return e.year===a}),o=function(e){return e.hdi},l=function(e){return e.gni_per_cap},c="Human Development Index";return r.a.createElement(b,null,r.a.createElement(M,{data:i,xFunc:l,yFunc:o,xLabel:"GNI per Capita",yLabel:c,hoverData:n,tooltipTextFunc:function(e){var t;return A((t={},Object(s.a)(t,"GNI per Capita",l(e)),Object(s.a)(t,c,o(e)),t),{title:e.country,valueFormat:z})},onHover:this.handleScatterHover}))}},{key:"renderScatterGNIvsEfree",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,i=t.filter(function(e){return e.year===a}),o=function(e){return e.gni_per_cap},l=function(e){return e.efree},c="Economic Freedom Score";return r.a.createElement(b,null,r.a.createElement(M,{data:i,xFunc:o,yFunc:l,xLabel:"GNI per capita",yLabel:c,hoverData:n,tooltipTextFunc:function(e){var t;return A((t={},Object(s.a)(t,"GNI per capita",o(e)),Object(s.a)(t,c,l(e)),t),{title:e.country,valueFormat:z})},onHover:this.handleScatterHover}))}},{key:"renderSmallMult",value:function(){var e=this.state,t=e.data,a=e.configs,n=a.dataDisplay.split("_"),i=Object(l.a)(n,2),o=i[0],s=i[1];return r.a.createElement(I,{data:t,xMetric:s,yMetric:o,scale:a.scale})}},{key:"renderConfigPanel",value:function(){return r.a.createElement(G,{onClick:this.handleConfigClick})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y.b,null,r.a.createElement(y.g,null,r.a.createElement(y.a,null,r.a.createElement("p",{className:"small-blue-title"},"Visualization"),r.a.createElement("h1",null,"Good Government"))),r.a.createElement(y.g,null,r.a.createElement(y.a,{sm:2}),r.a.createElement(y.a,{sm:9},r.a.createElement("div",{className:"line"}),r.a.createElement("p",null,"What makes a good government? Often when we think of successful governments, we focus on the output of its people and its mightiness when compared to its peers. But perhaps a more important measure of a good government is its ability to provide comfort and success to the individuals it governs."),r.a.createElement("blockquote",{cite:"Thomas Jefferson"},"The care of human life and happiness, and not their destruction, is the first and only object of good government."),r.a.createElement("p",null,"Something Something Something."))),r.a.createElement(y.g,null,r.a.createElement(y.a,null,r.a.createElement("h2",null,"Quality of Life is Connected to Progress"))),r.a.createElement(y.g,null,r.a.createElement(y.a,{sm:2}),r.a.createElement(y.a,{sm:9},r.a.createElement("div",{className:"line"}),r.a.createElement("p",null,"But we don't have to have it only one way."))),r.a.createElement(y.g,null,r.a.createElement(y.a,{md:6},this.renderScatterGNIvsKDI()),r.a.createElement(y.a,{md:6},this.renderScatterGNIvsEfree())),r.a.createElement(y.g,null,r.a.createElement(y.a,{sm:2}),r.a.createElement(y.a,{sm:9},r.a.createElement("div",{className:"blank"}),r.a.createElement("p",null,"But that is not the whole story."))),r.a.createElement(y.g,null,r.a.createElement(y.a,null,r.a.createElement("h2",null,"Progress of Countries"))),r.a.createElement(y.g,null,r.a.createElement(y.a,{sm:12},r.a.createElement("div",{className:"line"}),this.renderConfigPanel())),r.a.createElement(y.g,null,r.a.createElement(y.a,{sm:12},this.renderSmallMult()))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.4b36ca5f.chunk.js.map