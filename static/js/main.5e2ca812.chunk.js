(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(52)},30:function(e,t,a){},32:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(12),o=a.n(i),l=(a(30),a(32),a(24)),s=a(11),c=a(6),u=a(7),d=a(9),h=a(8),p=a(10),m=a(5),f=a(3),g=a(4),v=a(21),y=a.n(v),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={width:e.defaultRenderWidth},e.debounceTime?a.updateWidth=y()(a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),e.debounceTime):a.updateWidth=a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth)}},{key:"componentDidUpdate",value:function(){this.props.parentMayResize&&this.updateWidth()}},{key:"componentWillUnmount",value:function(){this.updateWidth.cancel(),window.removeEventListener("resize",this.updateWidth)}},{key:"getResizeDOMNode",value:function(){return o.a.findDOMNode(this)}},{key:"updateWidth",value:function(){var e=this.state.width,t=this.getResizeDOMNode().offsetWidth;e!==t&&this.setState({width:t})}},{key:"render",value:function(){var e=this.state.width;var t,a=this.props.children;return a&&null!=e&&(t=r.a.cloneElement(a,{width:this.state.width})),r.a.createElement("div",{className:"auto-width"},t)}}]),t}(n.Component);b.defaultProps={parentMayResize:!1,defaultRenderWidth:null,debounceTime:100};var x=b,k=a(14),w=a.n(k),E=a(13),O=a.n(E);var S=a(22);a(36);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=Object(S.a)({},{title:null,keys:null,keyFormat:function(e){return e},valueFormat:function(e){return e}},t)).keys=t.keys||Object.keys(e);var a="<div>";return t.title&&(a+="<h2>".concat(t.title,"</h2>")),a+="<table><tbody>",a+=t.keys.map(function(a){return a in e?"<tr><td>".concat(t.keyFormat(a),"</td><td>").concat(t.valueFormat(e[a]),"</td></tr>"):""}).join(""),a+="</tbody></table></div>"}function _(e,t){var a=f.select("body").append("div").attr("class","tooltip").attr("id",e).html("");function n(){a.style("opacity",0).style("pointer-events","none")}function r(e){return Number(e.replace(/[^\d.-]/g,""))}function i(e){var t=r(a.style("width")),n=r(a.style("height")),i=window.scrollY,o=window.scrollX,l=document.all?e.clientX+o:e.pageX,s=document.all?e.clientY+i:e.pageY,c=l-o+70+t>window.innerWidth?l-t-35:l+35;c<o+35&&(c=o+35);var u=s-i-120+n>window.innerHeight?s-n- -120:s+-60;u<i+-60&&(u=s+-60),a.style("top",u+"px").style("left",c+"px")}return t&&a.style("width",t),n(),{showTooltip:function(e,t){a.style("opacity",1).style("pointer-events","all").html(e),i(t)},hideTooltip:n,updatePosition:i}}a(38);var A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={zooming:!1,showTable:!1},a.handleLassoSelect=a.handleLassoSelect.bind(Object(m.a)(Object(m.a)(a))),a.handleZoom=a.handleZoom.bind(Object(m.a)(Object(m.a)(a))),a.handleZoomingToggle=a.handleZoomingToggle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOver=a.handleMouseOver.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOut=a.handleMouseOut.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOverCircle=a.handleMouseOverCircle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOutCircle=a.handleMouseOutCircle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleLassoSelect",value:function(e){this.props.onFilter(e)}},{key:"handleZoom",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xFunc,r=e.yFunc,i=this.props,o=i.xScale,l=i.yScale;this.zoomTransform=f.event.transform,o=this.zoomTransform.rescaleX(o),l=this.zoomTransform.rescaleY(l),this.yAxis.call(a.scale(l)),this.xAxis.call(t.scale(o));this.highlightCircle(null),this.chart.selectAll(".dot").attr("cx",function(e){return o(n(e))}).attr("cy",function(e){return l(r(e))})}},{key:"handleZoomingToggle",value:function(){var e=this.state.zooming;this.setState({zooming:!e})}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,r=t.colorScale,i=t.colorBy,o=t.tooltipTextFunc,l=t.onHover,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),e?(this.highlight.style("display","").style("stroke",r(e[i])).attr("cx",c(a(e))).attr("cy",u(n(e))),o&&this.tooltip.showTooltip(o(e),f.event),this.annotation.attr("opacity",.3)):(this.highlight.style("display","none"),this.tooltip.hideTooltip(),this.annotation.attr("opacity",1)),l&&l(e)}},{key:"handleMouseOver",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=f.mouse(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseOut",value:function(){this.highlightCircle(null)}},{key:"handleMouseOverCircle",value:function(e){this.highlightCircle(e)}},{key:"handleMouseOutCircle",value:function(){this.highlightCircle(null)}},{key:"setup",value:function(){var e=this.props,t=e.plotHeight,a=e.plotWidth,n=e.radius,r=e.exactMouse,i=f.select(this.root);this.g=i.append("g"),this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",a).attr("height",t).style("fill","white");var o=this;r||this.underlay.on("mousemove",function(e){o.handleMouseOver(this,e)}).on("mouseleave",function(){o.handleMouseOut()}),this.setupZoom(this.underlay),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=_("_tooltip"),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("display","none"),this.annotation=this.g.append("g").classed("annotation",!0).attr("pointer-events","none"),this.xAxis=this.g.append("g").classed("x-axis",!0),this.yAxis=this.g.append("g").classed("y-axis",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"setupZoom",value:function(e){var t=this.props.zoomable;this.zoomTransform=f.zoomIdentity,t&&(this.zoom=f.zoom().scaleExtent([.25,8]).on("zoom",this.handleZoom),e.call(this.zoom))}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAnnotation(),this.updateAxes()}},{key:"updateAnnotation",value:function(){var e=this.props,t=e.data,a=e.labels,n=e.xFunc,r=e.yFunc,i=this.props,o=i.xScale,l=i.yScale,s=t.filter(function(e){return a[e.country]});o=this.zoomTransform.rescaleX(o),l=this.zoomTransform.rescaleY(l);var c=this.annotation.selectAll(".label").data(s,function(e){return e.country});c.enter().append("text").classed("label",!0).merge(c).attr("x",function(e){return o(n(e))}).attr("y",function(e){return function(e){return l(r(e))}(e)}).attr("dy",function(e){return"below"===a[e.country].position?15:3}).attr("dx",function(e){return"below"===a[e.country].position?null:8}).attr("text-anchor",function(e){return"below"===a[e.country].position?"middle":"start"}).text(function(e){return e.country})}},{key:"updateChart",value:function(){var e=this.props,t=e.data,a=e.selectedData,n=e.hoverData,r=e.xFunc,i=e.yFunc,o=e.colorValue,l=e.radius,s=e.exactMouse,c=this.props,u=c.xScale,d=c.yScale;u=this.zoomTransform.rescaleX(u),d=this.zoomTransform.rescaleY(d);var h=this.chart.selectAll(".dot").data(t.filter(function(e){return O()(r(e))&&O()(i(e))}),function(e){return e.key}),p=h.enter().append("circle").classed("dot",!0).merge(h);if(p.attr("cx",function(e){return u(r(e))}).attr("cy",function(e){return d(i(e))}).attr("r",l).attr("fill",o),s?p.on("mouseover",this.handleMouseOverCircle).on("mouseout",this.handleMouseOutCircle):p.style("pointer-events","none"),p.classed("highlight",!1).classed("dim",!1).classed("selected",!1),n&&n.values.length>0){var m=function(e){return n.values.includes(e.key)};p.classed("highlight",!1).classed("dim",!0).filter(m).classed("highlight",!0).classed("dim",!1).raise().filter(m).classed("selected",!0).raise()}a&&a.values&&a.values.length>0&&p.filter(function(e){return e[a.key]&&(t=e[a.key],n=a.values,!(!t||!n)&&(Array.isArray(t)||(t=[t]),t.some(function(e){return n.includes(e)})));var t,n}).classed("highlight",!0).classed("dim",!1).raise(),h.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,o=e.plotWidth,l=e.padding,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(c)),this.yAxis.call(a.scale(u)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-l.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(o/2," ").concat(i+l.top+l.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.height,n=t.width,i={height:a};return r.a.createElement("div",{className:"ScatterPlot"},r.a.createElement("div",{className:"chart-brush",style:i},r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:a,width:n})))}}]),t}(n.PureComponent);A.defaultProps={data:[],labels:{},name:"scatter",brushable:!0,colorByFunc:function(){},height:400,hoverData:null,selectedData:null,width:300,onFilter:function(){},colorScale:function(){return"#ddd"},xFunc:function(e){return e.x},yFunc:function(e){return e.y},radius:4,xLabel:"",yLabel:"",zoomable:!1,exactMouse:!1};var C=w()(function(e){var t=e.data,a=e.height,n=e.width,r=e.xFunc,i=e.yFunc,o=e.colorByFunc,l=e.colorScale,s=e.exactMouse,c={top:20,right:20,bottom:50,left:60},u=n-c.left-c.right,d=a-c.top-c.bottom,h=f.extent(t,r),p=Math.round((h[1]-h[0])/20),m=f.scaleLinear().domain([h[0]-p,h[1]+p]).range([0,u]),g=f.extent(t,i),v=(g[1]-g[0])/20,y=f.scaleLinear().domain([g[0]-v,g[1]+v]).range([d,0]),b=function(e){return m(r(e))},x=function(e){return y(i(e))},k=f.axisLeft(y).tickSizeOuter(0).ticks(4),w=f.axisBottom(m).tickSizeOuter(0).ticks(4),E=f.voronoi()([]);if(!s){var O=function(){return Math.random()-.5};E=f.voronoi().x(function(e){return b(e)+O()}).y(function(e){return x(e)+O()}).size([u,d])(t)}return{plotWidth:u,plotHeight:d,padding:c,colorValue:function(e){return o(e)?l(o(e)):"#888"},xScale:m,yScale:y,xValue:b,yValue:x,xAxis:w,yAxis:k,voronoiDiagram:E,mouseRadius:u/10}})(A);function F(e,t){return Number("".concat(Math.round("".concat(e,"e").concat(t)),"e-").concat(t))}function z(e){e||(e=0);for(var t=(e=+e+"").split("."),a=t[0],n=t.length>1?".".concat(t[1]):"",r=/(\d+)(\d{3})/;r.test(a);)a=a.replace(r,"$1,$2");return a+n}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||(e=0),e>999999999?(e=F(e/1e9,1),"".concat(z(e),"B")):e>999999?(e=F(e/1e6,1),"".concat(z(e),"M")):e>999&&t?(e=F(e/1e3,1),"".concat(z(e),"K")):z(e)}var M={hdi:{label:"Human Development Index",display:"hdi",global:"hdi_norm",local:"hdi_norm_local",sortable:"hdi_max"},gdp:{label:"GDP per Capita",display:"gdp_per_cap",global:"gdp_norm",local:"gdp_norm_local",sortable:"gdp_max"},gni:{label:"GNI per Capita",display:"gni_per_cap",global:"gni_norm",local:"gni_norm_local",sortable:"gni_max"},efree:{label:"Economic Freedom",display:"efree",global:"efree_norm",local:"efree_norm_local",sortable:"efree_max"},gini:{label:"Gini Index",display:"gini",global:"gini_norm",local:"gini_norm_local",sortable:"gini_max"},year:{label:"Year",display:"year"}},T={dataDisplay:{options:[{label:"HDI vs GDP",id:"hdi_gdp"},{label:"Economic Freedom vs GDP",id:"efree_gdp"},{label:"Gini vs GDP",id:"gini_gdp"},{label:"HDI vs Economic Freedom",id:"hdi_efree"}]},sortOrder:{options:[{label:"By HDI",id:"hdi"},{label:"By GDP",id:"gdp"},{label:"By Economic Freedom",id:"efree"},{label:"By Gini Index",id:"gini"},{label:"By Region",id:"region"},{label:"Alphabetically",id:"alpha"}]},scale:{options:[{label:"Country-level",id:"local"},{label:"Global",id:"global"}]}},L={hdi:{"United States":{id:"United States",position:"below"},Singapore:{id:"Singapore",position:"below"},Italy:{id:"Italy",position:"below"},Iraq:{id:"Italy",position:"below"},Sudan:{id:"Italy",position:"right"},Chad:{id:"Italy",position:"right"}},efree:{"United States":{id:"United States",position:"below"},Singapore:{id:"Singapore",position:"below"},Italy:{id:"Italy",position:"below"},Iraq:{id:"Iraq",position:"below"},Algeria:{id:"Algeria",position:"below"},Chile:{id:"Chile",position:"below"},Switzerland:{id:"Switzerland",position:"below"}}};a(40);var N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleMouseover=a.handleMouseover.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseout=a.handleMouseout.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleMouseover",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=f.mouse(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseout",value:function(e){this.highlightCircle(null)}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,r=t.colorScale,i=t.colorBy,o=t.tooltipTextFunc,l=t.onHover,s=this.props,c=s.xScale,u=s.yScale;c=this.zoomTransform.rescaleX(c),u=this.zoomTransform.rescaleY(u),e?(this.highlight.style("display","").style("stroke",r(e[i])).attr("cx",c(a(e))).attr("cy",u(n(e))),o&&this.tooltip.showTooltip(o(e),f.event)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),l&&l(e)}},{key:"setup",value:function(){var e=this.props,t=e.plotWidth,a=e.plotHeight,n=e.radius;this.zoomTransform=f.zoomIdentity;var r=f.select(this.root);this.g=r.append("g");var i=this;this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",t).attr("height",a).style("fill","white").style("opacity",.001).on("mousemove",function(e){i.handleMouseover(this,e)}).on("mouseleave",function(){i.handleMouseout()}),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=_("_tooltip"),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("pointer-events","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0).style("pointer-events","none"),this.xAxis.append("line").classed("bar",!0),this.xAxis.append("text").classed("low",!0),this.xAxis.append("text").classed("high",!0),this.yAxis=this.g.append("g").classed("y-axis",!0).style("pointer-events","none"),this.yAxis.append("line").classed("bar",!0),this.yAxis.append("text").classed("low",!0),this.yAxis.append("text").classed("high",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAxes(),this.updateCanvas()}},{key:"updateLine",value:function(){var e=this.props,t=e.dataFiltered,a=e.line,n=e.lineWidth,r=this.chart.selectAll(".line").data([t]);r.enter().append("path").classed("line",!0).merge(r).attr("fill","none").attr("stroke","#888").attr("stroke-width",n).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("pointer-events","none").attr("d",a),r.exit().remove()}},{key:"updateChart",value:function(){var e=this.props,t=e.dataFiltered,a=e.xValue,n=e.yValue,r=e.colorValue,i=e.radius;this.updateLine();var o=this.chart.selectAll(".dot").data(t,function(e){return e.key}),l=o.enter().append("circle").classed("dot",!0).merge(o);l.attr("cx",a).attr("cy",n).attr("r",i).attr("fill",r),l.style("pointer-events","none"),o.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xLabel,a=e.yLabel,n=e.plotHeight,r=e.plotWidth,i=e.padding;this.xAxis.attr("transform","translate(".concat(0,", ",n,")")),this.xAxis.attr("font-size",10).attr("fill","none"),this.yAxis.attr("font-size",10).attr("fill","none"),this.xAxis.select(".bar").attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0).style("stroke-width",1).style("stroke","black").style("fill","none"),this.xAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").text("low"),this.xAxis.select(".high").attr("y",9).attr("x",r).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").text("high"),this.yAxis.select(".bar").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",n).style("stroke-width",1).style("stroke","black").style("fill","none"),this.yAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(-n," ").concat(18-i.left,")")).text("low"),this.yAxis.select(".high").attr("y",9).attr("x",0).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(0," ",18-i.left,")")).text("high"),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-n/2," ").concat(18-i.left,")")).text(a),this.xAxisLabel.attr("transform","translate(".concat(r/2," ").concat(n+i.top+i.bottom/3,")")).text(t)}},{key:"updateCanvas",value:function(){var e=this.props,t=e.dataBackground,a=e.sizeScale,n=e.width,r=e.height,i=e.padding,o=e.lineWidth,l=e.scale,s=e.lineCanvas,c=f.color("#ccc");c.opacity="global"===l?.7:.15;var u=this.canvas.getContext("2d");s.context(u),u.setTransform(1,0,0,1,0,0),u.scale(a,a),u.clearRect(0,0,n,r),u.translate(i.left,i.top),u.lineWidth=o,u.strokeStyle=c.toString(),t.forEach(function(e,t){u.beginPath(),s(e.values),u.stroke()})}},{key:"updateAxesExact",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,o=e.plotWidth,l=e.padding,s=e.xScale,c=e.yScale;this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(s)),this.yAxis.call(a.scale(c)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-l.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(o/2," ").concat(i+l.top+l.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.height,i=t.width,o=t.sizeScale,l={width:i,height:n};return r.a.createElement("div",{className:"ConnectedScatterPlot"},r.a.createElement("h4",{className:"title"},a),r.a.createElement("div",{className:"chart-container"},r.a.createElement("canvas",{className:"chart-canvas",ref:function(t){e.canvas=t},style:l,width:i*o,height:n*o}),r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:n,width:i})))}}]),t}(n.PureComponent);N.defaultProps={data:[],radius:4,height:300,width:300,name:"",xFunc:function(e){return e.x},yFunc:function(e){return e.x},xLabel:"",yLabel:"",tooltipTextFunc:function(e){return""},colorScale:function(){return"#ddd"}};var G=w()(function(e){var t=e.data,a=e.xFunc,n=e.yFunc,r=e.zFunc,i=e.colorScale,o=e.height,l=e.width,s=e.scale,c=e.xExtent,u=e.yExtent,d={top:20,right:20,bottom:40,left:40},h=1;window.devicePixelRatio&&(h=window.devicePixelRatio);var p="local"===s?5:2,m="local"===s?3:1,g=l-d.left-d.right,v=o-d.top-d.bottom,y=t.filter(function(e){return O()(a(e))&&O()(n(e))});c=c||f.extent(t,a);var b=f.scaleLinear().domain(c).range([0,g]);u=u||f.extent(t,n);var x=f.scaleLinear().domain(u).range([v,0]),k=function(e){return b(a(e))},w=function(e){return x(n(e))},E=f.line().x(k).y(w).curve(f.curveCardinal.tension(.3)),S=f.line().x(k).y(w).curve(f.curveCardinal.tension(.3)),j=function(e){return"#ddd"};i&&(j=function(e){return i(r(e))});var _=null;if(t&&t.length>0){var A=function(){return Math.random()-.5};_=f.voronoi().x(function(e){return k(e)+A()}).y(function(e){return w(e)+A()}).size([g,v])(y)}var C=g/3,F=f.axisLeft(x).tickSizeOuter(0),z=f.axisBottom(b).tickSizeOuter(0);return{dataFiltered:y,line:E,lineCanvas:S,padding:d,plotHeight:v,plotWidth:g,xScale:b,yScale:x,xValue:k,yValue:w,colorValue:j,radius:p,lineWidth:m,voronoiDiagram:_,mouseRadius:C,xAxis:z,yAxis:F,sizeScale:h}},{changeInclude:["dataGrouped","scale","sortOrder","width","height","xMetric","yMetric"]})(N);a(42);var I=[-.05,1.05],P=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderChart",value:function(e,t){var a=this.props,n=a.xFunc,i=a.yFunc,o=a.zFunc,l=a.xLabel,s=a.yLabel,c=a.zLabel,u=a.tooltipTextFunc,d=a.xMetric,h=a.yMetric,p=a.scale,m=a.colorScale,f=a.dataGrouped;return r.a.createElement(g.a,{sm:4,key:e.key},r.a.createElement(x,null,r.a.createElement(G,{key:e.key,name:e.key,data:e.values,xFunc:n,yFunc:i,zFunc:o,xLabel:l,yLabel:s,zLabel:c,xExtent:I,yExtent:I,tooltipTextFunc:u,colorScale:m,xMetric:d,yMetric:h,scale:p,dataBackground:f})))}},{key:"renderRegion",value:function(e,t){var a=this.props,n=a.sortOrder,i=a.dataGrouped,o=e.region;if("region"===n){if(0===t)return r.a.createElement(g.a,{sm:12,key:o},r.a.createElement("h3",{className:"region"},o));if(o!==i[t-1].region)return r.a.createElement(g.a,{key:o,sm:12},r.a.createElement("h3",{className:"region"},o))}return null}},{key:"render",value:function(){var e=this,t=this.props.dataGrouped;return r.a.createElement("div",{className:"SmallMultipleConnected"},r.a.createElement(g.g,null,t.map(function(t,a){return[e.renderRegion(t,a),e.renderChart(t,a)]})))}}]),t}(n.Component);P.defaultProps={dataGrouped:[],xMetric:"hdi",yMetric:"gni",scale:"global",colorScale:function(e){return"#333"}};var W=w()(function(e){var t=e.xMetric,a=e.yMetric,n=e.scale,r=e.sortOrder,i=e.dataGrouped,o=M[t].label,l=M[a].label,c=M.year.label,u=function(e){return e[M[t][n]]},d=function(e){return e[M[a][n]]},h=function(e){return e[M.year.display]};return{dataGrouped:i=function(e,t,a,n,r){if(M[t]){var i="gini"===t?"ascending":"descending";e=e.sort(function(e,a){return f[i](e[M[t].sortable],a[M[t].sortable])})}else e="region"===t?e.sort(function(e,t){return f.ascending(e.region,t.region)}):e.sort(function(e,t){return f.ascending(e.key,t.key)});return e}(i=function(e,t,a,n){return e.filter(function(e){return e.values.filter(function(e){return O()(a(e))&&O()(n(e))}).length>t})}(i,4,u,d),r),xLabel:o,yLabel:l,zLabel:c,xFunc:u,yFunc:d,zFunc:h,tooltipTextFunc:function(e){var n;return j((n={},Object(s.a)(n,o,e[M[t].display]),Object(s.a)(n,l,e[M[a].display]),n),{title:"".concat(e.year),valueFormat:D})}}})(P),H=(a(46),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.click=a.click.bind(Object(m.a)(Object(m.a)(a))),a.state={dataDisplay:{dropdownOpen:!1,selectIndex:0,selectedId:T.dataDisplay.options[0].id},sortOrder:{dropdownOpen:!1,selectIndex:0,selectedId:T.sortOrder.options[0].id},scale:{dropdownOpen:!1,selectIndex:0,selectedId:T.scale.options[0].id}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(e){this.setState(function(t){var a=t[e];return a.dropdownOpen=!a.dropdownOpen,Object(s.a)({},e,a)})}},{key:"click",value:function(e,t,a){var n=this.props.onClick;this.setState(function(n){var r=n[e];return r.selectIndex=a,r.selectedId=t.id,Object(s.a)({},e,r)}),n&&n(e,t.id)}},{key:"renderDropdown",value:function(e){var t=this,a=this.state[e],n=T[e],i=n.options.map(function(a,n){return r.a.createElement(g.d,{key:a.id,onClick:t.click.bind(t,e,a,n)},a.label)}),o=n.options[a.selectIndex];return r.a.createElement(g.c,{isOpen:this.state[e].dropdownOpen,toggle:this.toggle.bind(this,e)},r.a.createElement(g.f,{caret:!0},o.label),r.a.createElement(g.e,null,i))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ConfigurePanel"},"Showing ",this.renderDropdown("dataDisplay")," sorted"," ",this.renderDropdown("sortOrder")," using a"," ",this.renderDropdown("scale")," scale.")}}]),t}(n.Component));a(48);var B=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderYear",value:function(e){var t=this.props,a=t.xScale,n=t.radius,i=t.colorScale;return r.a.createElement("g",{key:e,transform:"translate(".concat(a(e),",",0,")")},r.a.createElement("text",{className:"title",textAnchor:"middle"},e),r.a.createElement("circle",{cx:0,cy:13,r:n,fill:i(e)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.years,n=t.dotWidth,i=t.height,o=t.radius;return r.a.createElement("div",{className:"ColorLegend"},r.a.createElement("svg",{className:"dots",width:n+4*o,height:i},r.a.createElement("g",{transform:"translate(".concat(2*o,",").concat(i/4,")")},a.map(function(t){return e.renderYear(t)}))))}}]),t}(n.Component);B.defaultProps={height:40};var Y=w()(function(e){var t=e.domain,a=f.range(t[0],t[1]+1,2);a[a.length-1]!==t[1]&&a.push(t[1]);var n=26*a.length;return{dotWidth:n,years:a,radius:8,xScale:f.scalePoint().domain(a).range([0,n])}})(B);a(50);var V=["country","iso3c","iso2c","region","sub-region"],R={gdp_per_cap:{decimals:0}},q="NA";function U(e,t,a){var n=f.min(e,function(e){return e[t]}),r=f.max(e,function(e){return e[t]});return e.forEach(function(e){e[a]=e[t]?(e[t]-n)/(r-n):NaN}),e}function X(e){e.forEach(function(e){Object.keys(e).forEach(function(t){V.includes(t)||(e[t]=e[t]===q?null:+e[t]),R[t]&&(e[t]=e[t]?F(e[t],R[t].decimals):null)}),e.key="".concat(e.country,":").concat(e.year)});return U(e=e.filter(function(e){return e.population>5e6}),"hdi","hdi_norm"),U(e,"gni_per_cap","gni_norm"),U(e,"efree","efree_norm"),U(e,"gdp_per_cap","gdp_norm"),U(e,"gini","gini_norm"),f.nest().key(function(e){return e.country}).entries(e).forEach(function(e){U(e.values,"gdp_per_cap","gdp_norm_local"),U(e.values,"gni_per_cap","gni_norm_local"),U(e.values,"hdi","hdi_norm_local"),U(e.values,"efree","efree_norm_local"),U(e.values,"gini","gini_norm_local")}),e}var Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={data:[],dataGrouped:[],focusYear:2017,scatterHover:null,configs:{dataDisplay:"hdi_gdp",sortOrder:"hdi",scale:"local"},colorScale:f.scaleSequential(f.interpolateOranges).domain([1990,2020])},a.handleScatterHover=a.handleScatterHover.bind(Object(m.a)(Object(m.a)(a))),a.handleConfigClick=a.handleConfigClick.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleScatterHover",value:function(e){var t=this.state.scatterHover;e?t&&t.values.includes(e.key)||this.setState({scatterHover:{values:[e.key]}}):this.setState({scatterHover:null})}},{key:"handleConfigClick",value:function(e,t){var a=this.state.configs;a[e]=t,this.setState({configs:a})}},{key:"componentDidMount",value:function(){var e=this;(function(){var e="".concat("/world_gov_challenge","/data/gov_data_year.csv");return f.csv(e)})().then(X).then(function(t){var a=function(e){return f.nest().key(function(e){return e.country}).entries(e)}(t);a=function(e){return e.forEach(function(e){e.region=e.values[0].region||"Other",e[M.gdp.sortable]=f.max(e.values,function(e){return e[M.gdp.display]}),e[M.hdi.sortable]=f.max(e.values,function(e){return e[M.hdi.display]}),e[M.efree.sortable]=f.max(e.values,function(e){return e[M.efree.display]}),e[M.gini.sortable]=f.max(e.values,function(e){return e[M.gini.display]})}),e}(a),e.setState({data:t,dataGrouped:a})})}},{key:"renderScatterGNIvsKDI",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,i=t.filter(function(e){return e.year===a}),o=function(e){return e.hdi},l=function(e){return e.gdp_per_cap},c="Human Development Index";return r.a.createElement(x,null,r.a.createElement(C,{data:i,xFunc:l,yFunc:o,xLabel:"GDP per Capita",yLabel:c,hoverData:n,tooltipTextFunc:function(e){var t;return j((t={},Object(s.a)(t,"GDP per Capita",l(e)),Object(s.a)(t,c,o(e)),t),{title:e.country,valueFormat:D})},onHover:this.handleScatterHover,labels:L.hdi}))}},{key:"renderScatterGNIvsEfree",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,i=t.filter(function(e){return e.year===a}),o=function(e){return e.gdp_per_cap},l=function(e){return e.efree},c="Economic Freedom Score";return r.a.createElement(x,null,r.a.createElement(C,{data:i,xFunc:o,yFunc:l,xLabel:"GDP per Capita",yLabel:c,hoverData:n,tooltipTextFunc:function(e){var t;return j((t={},Object(s.a)(t,"GDP per Capita",o(e)),Object(s.a)(t,c,l(e)),t),{title:e.country,valueFormat:D})},onHover:this.handleScatterHover,labels:L.efree}))}},{key:"renderSmallMult",value:function(){var e=this.state,t=e.dataGrouped,a=e.configs,n=e.colorScale,i=a.dataDisplay.split("_"),o=Object(l.a)(i,2),s=o[0],c=o[1];return r.a.createElement(W,{dataGrouped:t,xMetric:c,yMetric:s,scale:a.scale,sortOrder:a.sortOrder,colorScale:n})}},{key:"renderConfigPanel",value:function(){return r.a.createElement(H,{onClick:this.handleConfigClick})}},{key:"renderLegend",value:function(){var e=this.state.colorScale;return r.a.createElement(Y,{colorScale:e,domain:[2001,2017]})}},{key:"render",value:function(){var e=this.state.dataGrouped;return r.a.createElement("div",{className:"App"},r.a.createElement(g.b,null,r.a.createElement(g.g,null,r.a.createElement(g.a,null,r.a.createElement("div",{className:"top-bar"},r.a.createElement("a",{className:"align-middle float-right",href:"http://vallandingham.me/",target:"_blank",rel:"noopener noreferrer"},"vallandingham.me")))),r.a.createElement(g.g,null,r.a.createElement(g.a,null,r.a.createElement("h1",null,"Good Governments Help People to Succeed"),r.a.createElement("h5",{className:"author"},"by Jim Vallandingham"))),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:2}),r.a.createElement(g.a,{sm:9},r.a.createElement("div",{className:"blank"}),r.a.createElement("p",null,"This visual exploration looks at answering the question of what makes a ",r.a.createElement("strong",null,"good government")," from an individual's perspective."),r.a.createElement("p",null,"When thinking of the attributes that make a government \u201cgood\u201d, it is easy to fall back on a commonly used measurement like the"," ",r.a.createElement("strong",null,"Gross Domestic Product (GDP)")," that showcase a government\u2019s power and progress. The GDP measures the value of goods and services produced in a period of time. It ranks countries, and their governments, by output, with more output being associated with a \u201cbetter\u201d government."),r.a.createElement("p",null,"While the top economic progress is a tempting answer for what makes a government successful, metrics like the GDP"," ",r.a.createElement("strong",null,"fail")," to explain what makes a government good or bad for the ",r.a.createElement("strong",null,"individuals")," living under that government. A high GDP doesn\u2019t necessarily mean a high quality of life."),r.a.createElement("p",null,"We, as governed people, need to take a more nuanced look at the quality of government, through the lense of social well-being and enablement of individual progress."),r.a.createElement("blockquote",{cite:"Thomas Jefferson"},"The care of human life and happiness, and not their destruction, is the first and only object of good government."),r.a.createElement("p",null,"This true purpose of government, to improve human life, is nothing new. Thomas Jefferson, the principal author of the Declaration of Independence and the third president of the United States said as much during his lifetime."))),r.a.createElement(g.g,null,r.a.createElement(g.a,null,r.a.createElement("h2",null,"New Metrics to Understand Progress"))),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:2}),r.a.createElement(g.a,{sm:9},r.a.createElement("div",{className:"line"}),r.a.createElement("p",null,"From a data perspective, many organizations and researchers have developed a variety of metrics that can be used to better understand a government\u2019s individual impact. We will focus on just a few."),r.a.createElement("p",null,"The ",r.a.createElement("strong",null,"Human Development Index (HDI)")," combines statistics on life expectancy, education, and income per capita to rank countries into tiers of development. This index provides a measure of how good a government is at enabling individuals to do the things they want to do, and be the people they want to be."),r.a.createElement("p",null,"The ",r.a.createElement("strong",null,"Economic Freedom Score"),", calculated by the Heritage Foundation, tracks how well a government enables an individual the freedom to work, produce, consume, and invest in any way they please."),r.a.createElement("p",null,"The ",r.a.createElement("strong",null,"Gini Index")," is a measure of inequality in the distribution of individual or family income. A"," ",r.a.createElement("strong",null,"lower")," value indicates a more equal distribution of wealth."),r.a.createElement("p",null,"The good news is that these metrics are correlated with more performance metrics like GDP."))),r.a.createElement(g.g,null,r.a.createElement(g.a,{md:6},this.renderScatterGNIvsKDI()),r.a.createElement(g.a,{md:6},this.renderScatterGNIvsEfree())),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:2}),r.a.createElement(g.a,{sm:9},r.a.createElement("div",{className:"blank"}),r.a.createElement("p",null,"Governments ",r.a.createElement("strong",null,"can")," achieve success in being good for both the individuals being governed, and good in the amount of wealth produced."),r.a.createElement("div",{className:"blank"}))),r.a.createElement(g.g,null,r.a.createElement(g.a,null,r.a.createElement("h2",null,"Progress Over Time"))),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:2}),r.a.createElement(g.a,{sm:9},r.a.createElement("div",{className:"line"}),r.a.createElement("p",null,"This simple snapshot of government performance on these metrics is useful, but what is perhaps more interesting is a country\u2019s progress over time, and how values for an individual country change year by year."),r.a.createElement("p",null,"The visualization below allows comparison and exploration of these metrics through ",r.a.createElement("strong",null,"connected scatterplots")," ","for each country."),r.a.createElement("p",null,"The graphs use the x and y dimensions to plot different metric values, with each year of data displayed connected together by a line. Data from all countries is displayed in the background in grey for comparison. Display options allow us to find connections between countries and patterns within a country, both at a global scale, and also at a country-level scale for seeing year-to-year changes up close. After exploring the visualization"," ",r.a.createElement("a",{href:"http://vallandingham.me/world_gov_challenge/analysis.nb.html",target:"_blank",rel:"noopener noreferrer"},"check out the analysis behind it"),"."),r.a.createElement("p",null,"With this visualization, we can see the progress of the governments of the world toward or away from what is good for their peoples, as well as what is good for economic growth."))),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:12},r.a.createElement("div",{className:"blank"}),r.a.createElement("h2",null,"Connected Countries"))),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:12},this.renderConfigPanel())),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:6},r.a.createElement("span",{className:"align-middle"},"Data from 2000 to 2017 for ",e.length," countries.")),r.a.createElement(g.a,{sm:6},this.renderLegend())),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:12},this.renderSmallMult())),r.a.createElement(g.g,null,r.a.createElement(g.a,{sm:12,className:"footer"},r.a.createElement("p",null,"Jim Vallandingham |"," ",r.a.createElement("a",{href:"http://vallandingham.me"},"vallandingham.me")," |"," ",r.a.createElement("a",{href:"http://vallandingham.me/world_gov_challenge/analysis.nb.html"},"Analysis")," ","| Developed for the"," ",r.a.createElement("a",{href:"https://wdvp.worldgovernmentsummit.org/"},"World Data Visualization Prize"))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.5e2ca812.chunk.js.map