(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(52)},30:function(e,t,a){},32:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(12),l=a.n(i),o=(a(30),a(32),a(24)),c=a(11),s=a(6),u=a(7),d=a(9),h=a(8),p=a(10),m=a(4),f=a(3),v=a(5),y=a(21),g=a.n(y),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={width:e.defaultRenderWidth},e.debounceTime?a.updateWidth=g()(a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),e.debounceTime):a.updateWidth=a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth)}},{key:"componentDidUpdate",value:function(){this.props.parentMayResize&&this.updateWidth()}},{key:"componentWillUnmount",value:function(){this.updateWidth.cancel(),window.removeEventListener("resize",this.updateWidth)}},{key:"getResizeDOMNode",value:function(){return l.a.findDOMNode(this)}},{key:"updateWidth",value:function(){var e=this.state.width,t=this.getResizeDOMNode().offsetWidth;e!==t&&this.setState({width:t})}},{key:"render",value:function(){var e=this.state.width;var t,a=this.props.children;return a&&null!=e&&(t=r.a.cloneElement(a,{width:this.state.width})),r.a.createElement("div",{className:"auto-width"},t)}}]),t}(n.Component);x.defaultProps={parentMayResize:!1,defaultRenderWidth:null,debounceTime:100};var b=x,k=a(14),O=a.n(k),E=a(13),w=a.n(E);var j=a(22);a(36);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=Object(j.a)({},{title:null,keys:null,keyFormat:function(e){return e},valueFormat:function(e){return e}},t)).keys=t.keys||Object.keys(e);var a="<div>";return t.title&&(a+="<h2>".concat(t.title,"</h2>")),a+="<table><tbody>",a+=t.keys.map(function(a){return a in e?"<tr><td>".concat(t.keyFormat(a),"</td><td>").concat(t.valueFormat(e[a]),"</td></tr>"):""}).join(""),a+="</tbody></table></div>"}function _(e,t){var a=f.t("body").append("div").attr("class","tooltip").attr("id",e).html("");function n(){a.style("opacity",0).style("pointer-events","none")}function r(e){return Number(e.replace(/[^\d.-]/g,""))}function i(e){var t=r(a.style("width")),n=r(a.style("height")),i=window.scrollY,l=window.scrollX,o=document.all?e.clientX+l:e.pageX,c=document.all?e.clientY+i:e.pageY,s=o-l+70+t>window.innerWidth?o-t-35:o+35;s<l+35&&(s=l+35);var u=c-i-120+n>window.innerHeight?c-n- -120:c+-60;u<i+-60&&(u=c+-60),a.style("top",u+"px").style("left",s+"px")}return t&&a.style("width",t),n(),{showTooltip:function(e,t){a.style("opacity",1).style("pointer-events","all").html(e),i(t)},hideTooltip:n,updatePosition:i}}a(38);var A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={zooming:!1,showTable:!1},a.handleLassoSelect=a.handleLassoSelect.bind(Object(m.a)(Object(m.a)(a))),a.handleZoom=a.handleZoom.bind(Object(m.a)(Object(m.a)(a))),a.handleZoomingToggle=a.handleZoomingToggle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOver=a.handleMouseOver.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOut=a.handleMouseOut.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOverCircle=a.handleMouseOverCircle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOutCircle=a.handleMouseOutCircle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleLassoSelect",value:function(e){this.props.onFilter(e)}},{key:"handleZoom",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xFunc,r=e.yFunc,i=this.props,l=i.xScale,o=i.yScale;this.zoomTransform=f.h.transform,l=this.zoomTransform.rescaleX(l),o=this.zoomTransform.rescaleY(o),this.yAxis.call(a.scale(o)),this.xAxis.call(t.scale(l));this.highlightCircle(null),this.chart.selectAll(".dot").attr("cx",function(e){return l(n(e))}).attr("cy",function(e){return o(r(e))})}},{key:"handleZoomingToggle",value:function(){var e=this.state.zooming;this.setState({zooming:!e})}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,r=t.colorScale,i=t.colorBy,l=t.tooltipTextFunc,o=t.onHover,c=this.props,s=c.xScale,u=c.yScale;s=this.zoomTransform.rescaleX(s),u=this.zoomTransform.rescaleY(u),e?(this.highlight.style("display","").style("stroke",r(e[i])).attr("cx",s(a(e))).attr("cy",u(n(e))),l&&this.tooltip.showTooltip(l(e),f.h)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),o&&o(e)}},{key:"handleMouseOver",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=f.n(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseOut",value:function(){this.highlightCircle(null)}},{key:"handleMouseOverCircle",value:function(e){this.highlightCircle(e)}},{key:"handleMouseOutCircle",value:function(){this.highlightCircle(null)}},{key:"setup",value:function(){var e=this.props,t=e.plotHeight,a=e.plotWidth,n=e.radius,r=e.exactMouse,i=f.t(this.root);this.g=i.append("g"),this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",a).attr("height",t).style("fill","white");var l=this;r||this.underlay.on("mousemove",function(e){l.handleMouseOver(this,e)}).on("mouseleave",function(){l.handleMouseOut()}),this.setupZoom(this.underlay),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=_("_tooltip"),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0),this.yAxis=this.g.append("g").classed("y-axis",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"setupZoom",value:function(e){var t=this.props.zoomable;this.zoomTransform=f.w,t&&(this.zoom=f.v().scaleExtent([.25,8]).on("zoom",this.handleZoom),e.call(this.zoom))}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAxes()}},{key:"updateChart",value:function(){var e=this.props,t=e.data,a=e.selectedData,n=e.hoverData,r=e.xFunc,i=e.yFunc,l=e.colorValue,o=e.radius,c=e.exactMouse,s=this.props,u=s.xScale,d=s.yScale;u=this.zoomTransform.rescaleX(u),d=this.zoomTransform.rescaleY(d);var h=this.chart.selectAll(".dot").data(t.filter(function(e){return w()(r(e))&&w()(i(e))}),function(e){return e.key}),p=h.enter().append("circle").classed("dot",!0).merge(h);if(p.attr("cx",function(e){return u(r(e))}).attr("cy",function(e){return d(i(e))}).attr("r",o).attr("fill",l),c?p.on("mouseover",this.handleMouseOverCircle).on("mouseout",this.handleMouseOutCircle):p.style("pointer-events","none"),p.classed("highlight",!1).classed("dim",!1).classed("selected",!1),n&&n.values.length>0){var m=function(e){return n.values.includes(e.key)};p.classed("highlight",!1).classed("dim",!0).filter(m).classed("highlight",!0).classed("dim",!1).raise().filter(m).classed("selected",!0).raise()}a&&a.values&&a.values.length>0&&p.filter(function(e){return e[a.key]&&(t=e[a.key],n=a.values,!(!t||!n)&&(Array.isArray(t)||(t=[t]),t.some(function(e){return n.includes(e)})));var t,n}).classed("highlight",!0).classed("dim",!1).raise(),h.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,l=e.plotWidth,o=e.padding,c=this.props,s=c.xScale,u=c.yScale;s=this.zoomTransform.rescaleX(s),u=this.zoomTransform.rescaleY(u),this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(s)),this.yAxis.call(a.scale(u)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-o.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(i+o.top+o.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.height,n=t.width,i={height:a};return r.a.createElement("div",{className:"ScatterPlot"},r.a.createElement("div",{className:"chart-brush",style:i},r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:a,width:n})))}}]),t}(n.PureComponent);A.defaultProps={data:[],name:"scatter",brushable:!0,colorByFunc:function(){},height:400,hoverData:null,selectedData:null,width:300,onFilter:function(){},colorScale:function(){return"#ddd"},xFunc:function(e){return e.x},yFunc:function(e){return e.y},radius:4,xLabel:"",yLabel:"",zoomable:!1,exactMouse:!1};var C=O()(function(e){var t=e.data,a=e.height,n=e.width,r=e.xFunc,i=e.yFunc,l=e.colorByFunc,o=e.colorScale,c=e.exactMouse,s={top:20,right:20,bottom:50,left:60},u=n-s.left-s.right,d=a-s.top-s.bottom,h=f.i(t,r),p=Math.round((h[1]-h[0])/20),m=f.q().domain([h[0]-p,h[1]+p]).range([0,u]),v=f.i(t,i),y=(v[1]-v[0])/20,g=f.q().domain([v[0]-y,v[1]+y]).range([d,0]),x=function(e){return m(r(e))},b=function(e){return g(i(e))},k=f.c(g).tickSizeOuter(0).ticks(4),O=f.b(m).tickSizeOuter(0).ticks(4),E=f.u()([]);if(!c){var w=function(){return Math.random()-.5};E=f.u().x(function(e){return x(e)+w()}).y(function(e){return b(e)+w()}).size([u,d])(t)}return{plotWidth:u,plotHeight:d,padding:s,colorValue:function(e){return l(e)?o(l(e)):"#888"},xScale:m,yScale:g,xValue:x,yValue:b,xAxis:O,yAxis:k,voronoiDiagram:E,mouseRadius:u/10}})(A);function F(e,t){return Number("".concat(Math.round("".concat(e,"e").concat(t)),"e-").concat(t))}function M(e){e||(e=0);for(var t=(e=+e+"").split("."),a=t[0],n=t.length>1?".".concat(t[1]):"",r=/(\d+)(\d{3})/;r.test(a);)a=a.replace(r,"$1,$2");return a+n}function z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||(e=0),e>999999999?(e=F(e/1e9,1),"".concat(M(e),"B")):e>999999?(e=F(e/1e6,1),"".concat(M(e),"M")):e>999&&t?(e=F(e/1e3,1),"".concat(M(e),"K")):M(e)}var D={hdi:{label:"Human Development Index",display:"hdi",global:"hdi_norm",local:"hdi_norm_local",sortable:"hdi_max"},gdp:{label:"GDP per Capita",display:"gdp_per_cap",global:"gdp_norm",local:"gdp_norm_local",sortable:"gdp_max"},gni:{label:"GNI per Capita",display:"gni_per_cap",global:"gni_norm",local:"gni_norm_local",sortable:"gni_max"},efree:{label:"Economic Freedom",display:"efree",global:"efree_norm",local:"efree_norm_local",sortable:"efree_max"},year:{label:"Year",display:"year"}},L={dataDisplay:{options:[{label:"HDI vs GDP",id:"hdi_gdp"},{label:"Economic Freedom vs GDP",id:"efree_gdp"},{label:"HDI vs Economic Freedom",id:"hdi_efree"}]},sortOrder:{options:[{label:"By GDP",id:"gdp"},{label:"By HDI",id:"hdi"},{label:"By Economic Freedom",id:"efree"},{label:"Alphabetically",id:"alpha"}]},scale:{options:[{label:"Country-level",id:"local"},{label:"Global",id:"global"}]}};a(40);var T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleMouseover=a.handleMouseover.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseout=a.handleMouseout.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleMouseover",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=f.n(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseout",value:function(e){this.highlightCircle(null)}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,r=t.colorScale,i=t.colorBy,l=t.tooltipTextFunc,o=t.onHover,c=this.props,s=c.xScale,u=c.yScale;s=this.zoomTransform.rescaleX(s),u=this.zoomTransform.rescaleY(u),e?(this.highlight.style("display","").style("stroke",r(e[i])).attr("cx",s(a(e))).attr("cy",u(n(e))),l&&this.tooltip.showTooltip(l(e),f.h)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),o&&o(e)}},{key:"setup",value:function(){var e=this.props,t=e.plotWidth,a=e.plotHeight,n=e.radius;this.zoomTransform=f.w;var r=f.t(this.root);this.g=r.append("g");var i=this;this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",t).attr("height",a).style("fill","white").style("opacity",.001).on("mousemove",function(e){i.handleMouseover(this,e)}).on("mouseleave",function(){i.handleMouseout()}),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=_("_tooltip"),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("pointer-events","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0).style("pointer-events","none"),this.xAxis.append("line").classed("bar",!0),this.xAxis.append("text").classed("low",!0),this.xAxis.append("text").classed("high",!0),this.yAxis=this.g.append("g").classed("y-axis",!0).style("pointer-events","none"),this.yAxis.append("line").classed("bar",!0),this.yAxis.append("text").classed("low",!0),this.yAxis.append("text").classed("high",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAxes(),this.updateCanvas()}},{key:"updateLine",value:function(){var e=this.props,t=e.dataFiltered,a=e.line,n=e.lineWidth,r=this.chart.selectAll(".line").data([t]);r.enter().append("path").classed("line",!0).merge(r).attr("fill","none").attr("stroke","#888").attr("stroke-width",n).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("pointer-events","none").attr("d",a),r.exit().remove()}},{key:"updateChart",value:function(){var e=this.props,t=e.dataFiltered,a=e.xValue,n=e.yValue,r=e.colorValue,i=e.radius;this.updateLine();var l=this.chart.selectAll(".dot").data(t,function(e){return e.key}),o=l.enter().append("circle").classed("dot",!0).merge(l);o.attr("cx",a).attr("cy",n).attr("r",i).attr("fill",r),o.style("pointer-events","none"),l.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xLabel,a=e.yLabel,n=e.plotHeight,r=e.plotWidth,i=e.padding;this.xAxis.attr("transform","translate(".concat(0,", ",n,")")),this.xAxis.attr("font-size",10).attr("fill","none"),this.yAxis.attr("font-size",10).attr("fill","none"),this.xAxis.select(".bar").attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0).style("stroke-width",1).style("stroke","black").style("fill","none"),this.xAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").text("low"),this.xAxis.select(".high").attr("y",9).attr("x",r).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").text("high"),this.yAxis.select(".bar").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",n).style("stroke-width",1).style("stroke","black").style("fill","none"),this.yAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(-n," ").concat(18-i.left,")")).text("low"),this.yAxis.select(".high").attr("y",9).attr("x",0).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(0," ",18-i.left,")")).text("high"),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-n/2," ").concat(18-i.left,")")).text(a),this.xAxisLabel.attr("transform","translate(".concat(r/2," ").concat(n+i.top+i.bottom/3,")")).text(t)}},{key:"updateCanvas",value:function(){var e=this.props,t=e.dataBackground,a=e.sizeScale,n=e.width,r=e.height,i=e.padding,l=e.lineWidth,o=e.scale,c=e.lineCanvas,s=f.d("#ccc");s.opacity="global"===o?.7:.15;var u=this.canvas.getContext("2d");c.context(u),u.setTransform(1,0,0,1,0,0),u.scale(a,a),u.clearRect(0,0,n,r),u.translate(i.left,i.top),u.lineWidth=l,u.strokeStyle=s.toString(),t.forEach(function(e,t){u.beginPath(),c(e.values),u.stroke()})}},{key:"updateAxesExact",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,l=e.plotWidth,o=e.padding,c=e.xScale,s=e.yScale;this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(c)),this.yAxis.call(a.scale(s)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-o.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(i+o.top+o.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.height,i=t.width,l=t.sizeScale,o={width:i,height:n};return r.a.createElement("div",{className:"ConnectedScatterPlot"},r.a.createElement("h4",{className:"title"},a),r.a.createElement("div",{className:"chart-container"},r.a.createElement("canvas",{className:"chart-canvas",ref:function(t){e.canvas=t},style:o,width:i*l,height:n*l}),r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:n,width:i})))}}]),t}(n.PureComponent);T.defaultProps={data:[],radius:4,height:300,name:"",xFunc:function(e){return e.x},yFunc:function(e){return e.x},xLabel:"",yLabel:"",tooltipTextFunc:function(e){return""},colorScale:function(){return"#ddd"}};var N=O()(function(e){var t=e.data,a=e.xFunc,n=e.yFunc,r=e.zFunc,i=e.colorScale,l=e.height,o=e.width,c=e.scale,s=e.xExtent,u=e.yExtent,d={top:20,right:20,bottom:40,left:40},h=1;window.devicePixelRatio&&(h=window.devicePixelRatio);var p="local"===c?5:2,m="local"===c?3:1,v=o-d.left-d.right,y=l-d.top-d.bottom,g=t.filter(function(e){return w()(a(e))&&w()(n(e))});s=s||f.i(t,a);var x=f.q().domain(s).range([0,v]);u=u||f.i(t,n);var b=f.q().domain(u).range([y,0]),k=function(e){return x(a(e))},O=function(e){return b(n(e))},E=f.k().x(k).y(O).curve(f.f.tension(.3)),j=f.k().x(k).y(O).curve(f.f.tension(.3)),S=function(e){return"#ddd"};i&&(S=function(e){return i(r(e))});var _=null;if(t&&t.length>0){var A=function(){return Math.random()-.5};_=f.u().x(function(e){return k(e)+A()}).y(function(e){return O(e)+A()}).size([v,y])(g)}var C=v/3,F=f.c(b).tickSizeOuter(0),M=f.b(x).tickSizeOuter(0);return{dataFiltered:g,line:E,lineCanvas:j,padding:d,plotHeight:y,plotWidth:v,xScale:x,yScale:b,xValue:k,yValue:O,colorValue:S,radius:p,lineWidth:m,voronoiDiagram:_,mouseRadius:C,xAxis:M,yAxis:F,sizeScale:h}},{changeInclude:["dataGrouped","scale","sortOrder","width","height","xMetric","yMetric"]})(T);a(42);var W=[-.1,1.1],H=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderChart",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,i=t.zFunc,l=t.xLabel,o=t.yLabel,c=t.zLabel,s=t.tooltipTextFunc,u=t.xMetric,d=t.yMetric,h=t.scale,p=t.colorScale,m=t.dataGrouped;return r.a.createElement("div",{key:e.key,className:"small-multiple"},r.a.createElement(b,null,r.a.createElement(N,{key:e.key,name:e.key,data:e.values,xFunc:a,yFunc:n,zFunc:i,xLabel:l,yLabel:o,zLabel:c,xExtent:W,yExtent:W,tooltipTextFunc:s,colorScale:p,xMetric:u,yMetric:d,scale:h,dataBackground:m})))}},{key:"render",value:function(){var e=this,t=this.props.dataGrouped;return r.a.createElement("div",{className:"SmallMultipleConnected"},t.map(function(t){return e.renderChart(t)}))}}]),t}(n.Component);H.defaultProps={dataGrouped:[],xMetric:"hdi",yMetric:"gni",scale:"global",colorScale:function(e){return"#333"}};var G=O()(function(e){var t=e.xMetric,a=e.yMetric,n=e.scale,r=e.sortOrder,i=e.dataGrouped,l=D[t].label,o=D[a].label,s=D.year.label,u=function(e){return e[D[t][n]]},d=function(e){return e[D[a][n]]},h=function(e){return e[D.year.display]};return{dataGrouped:i=function(e,t,a,n,r){return e=D[t]?e.sort(function(e,a){return f.g(e[D[t].sortable],a[D[t].sortable])}):e.sort(function(e,t){return f.a(e.key,t.key)})}(i=function(e,t,a,n){return e.filter(function(e){return e.values.filter(function(e){return w()(a(e))&&w()(n(e))}).length>t})}(i,4,u,d),r),xLabel:l,yLabel:o,zLabel:s,xFunc:u,yFunc:d,zFunc:h,tooltipTextFunc:function(e){var n;return S((n={},Object(c.a)(n,l,e[D[t].display]),Object(c.a)(n,o,e[D[a].display]),n),{title:"".concat(e.year),valueFormat:z})}}})(H),P=(a(44),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.click=a.click.bind(Object(m.a)(Object(m.a)(a))),a.state={dataDisplay:{dropdownOpen:!1,selectIndex:0,selectedId:L.dataDisplay.options[0].id},sortOrder:{dropdownOpen:!1,selectIndex:0,selectedId:L.sortOrder.options[0].id},scale:{dropdownOpen:!1,selectIndex:0,selectedId:L.scale.options[0].id}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(e){this.setState(function(t){var a=t[e];return a.dropdownOpen=!a.dropdownOpen,Object(c.a)({},e,a)})}},{key:"click",value:function(e,t,a){var n=this.props.onClick;this.setState(function(n){var r=n[e];return r.selectIndex=a,r.selectedId=t.id,Object(c.a)({},e,r)}),n&&n(e,t.id)}},{key:"renderDropdown",value:function(e){var t=this,a=this.state[e],n=L[e],i=n.options.map(function(a,n){return r.a.createElement(v.d,{key:a.id,onClick:t.click.bind(t,e,a,n)},a.label)}),l=n.options[a.selectIndex];return r.a.createElement(v.c,{isOpen:this.state[e].dropdownOpen,toggle:this.toggle.bind(this,e)},r.a.createElement(v.f,{caret:!0},l.label),r.a.createElement(v.e,null,i))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ConfigurePanel"},"Displaying ",this.renderDropdown("dataDisplay")," sorted"," ",this.renderDropdown("sortOrder")," using a"," ",this.renderDropdown("scale")," scale.")}}]),t}(n.Component));a(48);var I=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderYear",value:function(e){var t=this.props,a=t.xScale,n=t.radius,i=t.colorScale;return r.a.createElement("g",{key:e,transform:"translate(".concat(a(e),",",0,")")},r.a.createElement("text",{className:"title",textAnchor:"middle"},e),r.a.createElement("circle",{cx:0,cy:13,r:n,fill:i(e)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.years,n=t.dotWidth,i=t.height,l=t.radius;return r.a.createElement("div",{className:"ColorLegend"},r.a.createElement("span",{className:"align-middle"},"Legend:")," ",r.a.createElement("svg",{className:"dots",width:n+4*l,height:i},r.a.createElement("g",{transform:"translate(".concat(2*l,",").concat(i/4,")")},a.map(function(t){return e.renderYear(t)}))))}}]),t}(n.Component);I.defaultProps={height:40};var B=O()(function(e){var t=e.domain,a=f.p(t[0],t[1]+1,1),n=26*a.length;return{dotWidth:n,years:a,radius:8,xScale:f.r().domain(a).range([0,n])}})(I);a(50);var Y=["country","iso3c","iso2c","region","sub-region"],R={gdp_per_cap:{decimals:0}},V="NA";function Z(e,t,a){var n=f.m(e,function(e){return e[t]}),r=f.l(e,function(e){return e[t]});return e.forEach(function(e){e[a]=e[t]?(e[t]-n)/(r-n):NaN}),e}function X(e){e.forEach(function(e){Object.keys(e).forEach(function(t){Y.includes(t)||(e[t]=e[t]===V?null:+e[t]),R[t]&&(e[t]=e[t]?F(e[t],R[t].decimals):null)}),e.key="".concat(e.country,":").concat(e.year)});return Z(e=e.filter(function(e){return e.population>5e6}),"hdi","hdi_norm"),Z(e,"gni_per_cap","gni_norm"),Z(e,"efree","efree_norm"),Z(e,"gdp_per_cap","gdp_norm"),Z(e,"gini","gini_norm"),f.o().key(function(e){return e.country}).entries(e).forEach(function(e){Z(e.values,"gdp_per_cap","gdp_norm_local"),Z(e.values,"gni_per_cap","gni_norm_local"),Z(e.values,"hdi","hdi_norm_local"),Z(e.values,"efree","efree_norm_local"),Z(e.values,"gini","gini_norm_local")}),e}var q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={data:[],dataGrouped:[],focusYear:2017,scatterHover:null,configs:{dataDisplay:"hdi_gdp",sortOrder:"gdp",scale:"local"},colorScale:f.s(f.j).domain([1990,2020])},a.handleScatterHover=a.handleScatterHover.bind(Object(m.a)(Object(m.a)(a))),a.handleConfigClick=a.handleConfigClick.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleScatterHover",value:function(e){var t=this.state.scatterHover;e?t&&t.values.includes(e.key)||this.setState({scatterHover:{values:[e.key]}}):this.setState({scatterHover:null})}},{key:"handleConfigClick",value:function(e,t){var a=this.state.configs;a[e]=t,this.setState({configs:a})}},{key:"componentDidMount",value:function(){var e=this;(function(){var e="".concat("/world_gov_challenge","/data/gov_data_year.csv");return f.e(e)})().then(X).then(function(t){var a=function(e){return f.o().key(function(e){return e.country}).entries(e)}(t);a=function(e){return e.forEach(function(e){e.region=e.values[0].region,e[D.gdp.sortable]=f.l(e.values,function(e){return e[D.gdp.display]}),e[D.hdi.sortable]=f.l(e.values,function(e){return e[D.hdi.display]}),e[D.efree.sortable]=f.l(e.values,function(e){return e[D.efree.display]})}),e}(a),e.setState({data:t,dataGrouped:a})})}},{key:"renderScatterGNIvsKDI",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,i=t.filter(function(e){return e.year===a}),l=function(e){return e.hdi},o=function(e){return e.gdp_per_cap},s="Human Development Index";return r.a.createElement(b,null,r.a.createElement(C,{data:i,xFunc:o,yFunc:l,xLabel:"GDP per Capita",yLabel:s,hoverData:n,tooltipTextFunc:function(e){var t;return S((t={},Object(c.a)(t,"GDP per Capita",o(e)),Object(c.a)(t,s,l(e)),t),{title:e.country,valueFormat:z})},onHover:this.handleScatterHover}))}},{key:"renderScatterGNIvsEfree",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,i=t.filter(function(e){return e.year===a}),l=function(e){return e.gdp_per_cap},o=function(e){return e.efree},s="Economic Freedom Score";return r.a.createElement(b,null,r.a.createElement(C,{data:i,xFunc:l,yFunc:o,xLabel:"GDP per capita",yLabel:s,hoverData:n,tooltipTextFunc:function(e){var t;return S((t={},Object(c.a)(t,"GDP per capita",l(e)),Object(c.a)(t,s,o(e)),t),{title:e.country,valueFormat:z})},onHover:this.handleScatterHover}))}},{key:"renderSmallMult",value:function(){var e=this.state,t=e.dataGrouped,a=e.configs,n=e.colorScale,i=a.dataDisplay.split("_"),l=Object(o.a)(i,2),c=l[0],s=l[1];return r.a.createElement(G,{dataGrouped:t,xMetric:s,yMetric:c,scale:a.scale,sortOrder:a.sortOrder,colorScale:n})}},{key:"renderConfigPanel",value:function(){return r.a.createElement(P,{onClick:this.handleConfigClick})}},{key:"renderLegend",value:function(){var e=this.state.colorScale;return r.a.createElement(B,{colorScale:e,domain:[2010,2017]})}},{key:"render",value:function(){var e=this.state.dataGrouped;return r.a.createElement("div",{className:"App"},r.a.createElement(v.b,null,r.a.createElement(v.g,null,r.a.createElement(v.a,null,r.a.createElement("div",{className:"top-bar"},r.a.createElement("a",{className:"align-middle float-right",href:"http://vallandingham.me/",target:"_blank",rel:"noopener noreferrer"},"vallandingham.me")))),r.a.createElement(v.g,null,r.a.createElement(v.a,null,r.a.createElement("h1",null,"Good Government"))),r.a.createElement(v.g,null,r.a.createElement(v.a,{sm:2}),r.a.createElement(v.a,{sm:9},r.a.createElement("div",{className:"line"}),r.a.createElement("p",null,"What makes a good government? Often when we think of successful governments, we focus on the output of its people and its mightiness when compared to its peers. But perhaps a more important measure of a good government is its ability to provide comfort and success to the individuals it governs."),r.a.createElement("blockquote",{cite:"Thomas Jefferson"},"The care of human life and happiness, and not their destruction, is the first and only object of good government."),r.a.createElement("p",null,"Something Something Something."))),r.a.createElement(v.g,null,r.a.createElement(v.a,null,r.a.createElement("h2",null,"Quality of Life is Connected to Progress"))),r.a.createElement(v.g,null,r.a.createElement(v.a,{sm:2}),r.a.createElement(v.a,{sm:9},r.a.createElement("div",{className:"line"}),r.a.createElement("p",null,"But we don't have to have it only one way."))),r.a.createElement(v.g,null,r.a.createElement(v.a,{md:6},this.renderScatterGNIvsKDI()),r.a.createElement(v.a,{md:6},this.renderScatterGNIvsEfree())),r.a.createElement(v.g,null,r.a.createElement(v.a,{sm:2}),r.a.createElement(v.a,{sm:9},r.a.createElement("div",{className:"blank"}),r.a.createElement("p",null,"But that is not the whole story."))),r.a.createElement(v.g,null,r.a.createElement(v.a,null,r.a.createElement("h2",null,"Progress of Countries"))),r.a.createElement(v.g,null,r.a.createElement(v.a,{sm:12},r.a.createElement("div",{className:"line"}),this.renderConfigPanel())),r.a.createElement(v.g,null,r.a.createElement(v.a,{sm:5},r.a.createElement("span",{className:"align-middle"},"Showing data from 2010 to 2017 for ",e.length," ","countries.")),r.a.createElement(v.a,{sm:6},this.renderLegend())),r.a.createElement(v.g,null,r.a.createElement(v.a,{sm:12},this.renderSmallMult()))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.78ee456f.chunk.js.map