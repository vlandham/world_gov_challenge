{"version":3,"sources":["components/AutoWidth/AutoWidth.js","components/tooltip/tooltip.js","components/ScatterPlot/ScatterPlot.js","utils/collection.js","utils/format.js","components/App/App.js","serviceWorker.js","index.js"],"names":["AutoWidth","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","width","defaultRenderWidth","debounceTime","updateWidth","debounce","bind","assertThisInitialized","window","addEventListener","parentMayResize","cancel","removeEventListener","ReactDOM","findDOMNode","domWidth","getResizeDOMNode","offsetWidth","setState","childToRender","child","children","React","cloneElement","react_default","a","createElement","className","Component","defaultProps","tableContent","entries","config","arguments","length","undefined","objectSpread","title","keys","keyFormat","k","valueFormat","v","output","concat","map","join","ScatterPlot","zooming","showTable","handleLassoSelect","handleZoom","handleZoomingToggle","handleMouseOver","handleMouseOut","handleMouseOverCircle","handleMouseOutCircle","setup","update","d","onFilter","_this$props","xAxis","yAxis","xFunc","yFunc","_this$props2","xScale","yScale","zoomTransform","d3","transform","rescaleX","rescaleY","scale","highlightCircle","chart","selectAll","attr","_this$props3","colorScale","colorBy","tooltipTextFunc","onHover","_this$props4","highlight","style","tooltip","showTooltip","hideTooltip","el","_this$props5","voronoiDiagram","mouseRadius","mousePos","invert","site","find","data","_this$props6","zoomable","plotHeight","plotWidth","radius","exactMouse","cRoot","root","g","append","underlay","classed","that","on","setupZoom","tooltipId","tt","html","toNum","str","Number","replace","updatePosition","event","ttw","tth","wscrY","scrollY","wscrX","scrollX","curX","document","all","clientX","pageX","curY","clientY","pageY","ttleft","xOffset","innerWidth","tttop","yOffset","innerHeight","content","floatingTooltip","yAxisLabel","xAxisLabel","zoom","scaleExtent","padding","left","top","updateChart","updateAxes","_this$props7","selectedData","hoverData","colorValue","_this$props8","binding","filter","datum","isfinite","key","merged","enter","merge","values","hoverFilter","includes","raise","collection","list","Array","isArray","some","r","exit","remove","_this$props9","xLabel","yLabel","_this$props10","text","bottom","_this2","_this$props11","height","ref","node","PureComponent","name","brushable","colorByFunc","x","y","addComputedProps","right","xExtent","domain","range","yExtent","xValue","yValue","tickSizeOuter","pixelJitter","Math","random","size","roundNumber","value","decimals","round","addCommas","nStr","split","x1","x2","rgx","test","formatNumber","number","thousand","STRING_COLUMNS","NULL_STRING","processData","forEach","country","year","App","focusYear","scatterHover","handleScatterHover","changesPath","process","getData","then","console","log","_this$state","displayData","gni_per_cap","hdi","components_AutoWidth_AutoWidth","components_ScatterPlot_ScatterPlot","_tooltipData","defineProperty","_this$state2","efree","_tooltipData2","reactstrap_es","sm","md","renderScatterGNIvsKDI","renderScatterGNIvsEfree","Boolean","location","hostname","match","render","components_App_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cd297cf3.chunk.js","sourcesContent":["/**\n * @copyright 2018 Zymergen\n */\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash.debounce';\n\nconst propTypes = {\n  children: PropTypes.object,\n\n  /* The amount of delay between debounced calls (default: 100) */\n  debounceTime: PropTypes.number,\n\n  /* If set, the default width is set to this value and the child is\n     rendered. If null, the child is not rendered until a width is provided */\n  defaultRenderWidth: PropTypes.number,\n\n  /* If true, the component checks on componentDidUpdate to see if it needs to resize */\n  parentMayResize: PropTypes.bool,\n};\n\nconst defaultProps = {\n  parentMayResize: false,\n  defaultRenderWidth: null,\n  debounceTime: 100,\n};\n\n/**\n * Component for automatically setting a width prop to the DOM\n * node of the first child. Note that checking offsetWidth is a\n * somewhat expensive operation (forced reflow), so try and leave\n * `parentMayResize` false if you are having performance issues.\n *\n * Example usage:\n * <AutoWidth>\n *   <MyComponent />\n * </AutoWidth>\n *\n * MyComponent gets a `width` prop set.\n *\n */\nclass AutoWidth extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      width: props.defaultRenderWidth,\n    };\n\n    if (props.debounceTime) {\n      this.updateWidth = debounce(this.updateWidth.bind(this), props.debounceTime);\n    } else {\n      this.updateWidth = this.updateWidth.bind(this);\n    }\n  }\n\n  componentDidMount() {\n    this.updateWidth();\n    window.addEventListener('resize', this.updateWidth);\n  }\n\n  componentDidUpdate() {\n    const { parentMayResize } = this.props;\n\n    // have to update width of the parent can cause a resize without a window resize\n    // e.g. something collapses or expands.\n    if (parentMayResize) {\n      this.updateWidth();\n    }\n  }\n\n  componentWillUnmount() {\n    this.updateWidth.cancel();\n    window.removeEventListener('resize', this.updateWidth);\n  }\n\n  getResizeDOMNode() {\n    return ReactDOM.findDOMNode(this);\n  }\n\n  // Call set state to update the width so it starts an update of the child component\n  updateWidth() {\n    const { width } = this.state;\n    const domWidth = this.getResizeDOMNode().offsetWidth;\n    if (width !== domWidth) {\n      this.setState({\n        width: domWidth,\n      });\n    }\n  }\n\n  render() {\n    const { width } = this.state;\n\n    if (process.env.NODE_ENV !== 'production' && React.Children.count(this.props.children) > 1) {\n      console.warn('AutoWidth only works with a single child element.');\n    }\n\n    const child = this.props.children;\n    let childToRender;\n\n    // if we have a child and a width is provided, render the child with the width as a prop\n    if (child && width != null) {\n      childToRender = React.cloneElement(child, { width: this.state.width });\n    }\n\n    // we rely on this div getting the full width from the browser's layout\n    // and read its offsetWidth to set as the width to the child component.\n    return <div className=\"auto-width\">{childToRender}</div>;\n  }\n}\n\nAutoWidth.propTypes = propTypes;\nAutoWidth.defaultProps = defaultProps;\n\nexport default AutoWidth;\n","import * as d3 from \"d3\";\nimport \"./tooltip.scss\";\n\n/**\n * Format an object into a table for tooltip output.\n *\n * @param {Object} entries Object of items to display as a tooltip table.\n * @param {Object} config Configuration object that modifies the table generation.\n *  Possible values are:\n *  title: optional title for table\n *  keys: if provided, only display data from entries associated with these keys.\n *    This also can be used to specify the order of the data in the table.\n *    If not provided, all keys from `entries` are displayed.\n *  keyFormat: formatting function that takes a key and outputs a string to be displayed.\n *  valueFormat: formatting function that takes a value and outputs a string to be displayed.\n */\nexport function tableContent(entries, config = {}) {\n  const defaultConfig = {\n    title: null,\n    keys: null,\n    keyFormat: k => k,\n    valueFormat: v => v\n  };\n  config = { ...defaultConfig, ...config };\n  config.keys = config.keys || Object.keys(entries);\n  let output = \"<div>\";\n  if (config.title) {\n    output += `<h2>${config.title}</h2>`;\n  }\n  output += \"<table><tbody>\";\n  const rows = config.keys.map(k => {\n    if (k in entries) {\n      return `<tr><td>${config.keyFormat(k)}</td><td>${config.valueFormat(\n        entries[k]\n      )}</td></tr>`;\n    }\n    return \"\";\n  });\n  output += rows.join(\"\");\n  output += \"</tbody></table></div>\";\n  return output;\n}\n\n/**\n * Format an object into a series of spans for tooltip output.\n *\n * @param {Object} entries\n * @param {Function} keyFormat\n */\nexport function spanContent(entries) {\n  const content = Object.keys(entries).map(k => {\n    return `<span class='name'>${k}: </span><span class='value'>${\n      entries[k]\n    }</span>`;\n  });\n\n  return content.join(\"<br/>\");\n}\n\n/*\n * Creates tooltip with provided id that\n * floats on top of visualization.\n * Most styling is expected to come from CSS\n * so check out bubble_chart.scss for more details.\n */\nexport function floatingTooltip(tooltipId, width) {\n  // Local variable to hold tooltip div for\n  // manipulation in other functions.\n  var tt = d3\n    .select(\"body\")\n    .append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .attr(\"id\", tooltipId)\n    .html(\"\");\n\n  // Set a width if it is provided.\n  if (width) {\n    tt.style(\"width\", width);\n  }\n\n  // Initially it is hidden.\n  hideTooltip();\n\n  /*\n   * Display tooltip with provided content.\n   *\n   * content is expected to be HTML string.\n   *\n   * event is d3.event for positioning.\n   */\n  function showTooltip(content, event) {\n    tt.style(\"opacity\", 1.0)\n      .style(\"pointer-events\", \"all\")\n      .html(content);\n\n    updatePosition(event);\n  }\n\n  /*\n   * Hide the tooltip div.\n   */\n  function hideTooltip() {\n    tt.style(\"opacity\", 0.0).style(\"pointer-events\", \"none\");\n  }\n\n  function toNum(str) {\n    return Number(str.replace(/[^\\d.-]/g, \"\"));\n  }\n\n  /*\n   * Figure out where to place the tooltip\n   * based on d3 mouse evenggt.\n   */\n  function updatePosition(event) {\n    var xOffset = 35;\n    var yOffset = -60;\n\n    var ttw = toNum(tt.style(\"width\"));\n    var tth = toNum(tt.style(\"height\"));\n\n    var wscrY = window.scrollY;\n    var wscrX = window.scrollX;\n\n    var curX = document.all ? event.clientX + wscrX : event.pageX;\n    var curY = document.all ? event.clientY + wscrY : event.pageY;\n    var ttleft =\n      curX - wscrX + xOffset * 2 + ttw > window.innerWidth\n        ? curX - ttw - xOffset\n        : curX + xOffset;\n\n    if (ttleft < wscrX + xOffset) {\n      ttleft = wscrX + xOffset;\n    }\n\n    var tttop =\n      curY - wscrY + yOffset * 2 + tth > window.innerHeight\n        ? curY - tth - yOffset * 2\n        : curY + yOffset;\n\n    if (tttop < wscrY + yOffset) {\n      tttop = curY + yOffset;\n    }\n\n    tt.style(\"top\", tttop + \"px\").style(\"left\", ttleft + \"px\");\n  }\n\n  return {\n    showTooltip: showTooltip,\n    hideTooltip: hideTooltip,\n    updatePosition: updatePosition\n  };\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport addComputedProps from \"react-computed-props\";\nimport isfinite from \"lodash.isfinite\";\nimport * as d3 from \"d3\";\n\nimport { includesAny } from \"../../utils/collection\";\nimport { floatingTooltip } from \"../tooltip/tooltip\";\n\nimport \"./ScatterPlot.scss\";\n\nfunction chartProps(props) {\n  const {\n    data,\n    height,\n    width,\n    xFunc,\n    yFunc,\n    colorByFunc,\n    colorScale,\n    exactMouse\n  } = props;\n\n  const padding = {\n    top: 20,\n    right: 20,\n    bottom: 50,\n    left: 60\n  };\n\n  const plotWidth = width - padding.left - padding.right;\n  const plotHeight = height - padding.top - padding.bottom;\n\n  const xExtent = d3.extent(data, xFunc);\n  const xScale = d3\n    .scaleLinear()\n    .domain(xExtent)\n    .range([0, plotWidth]);\n\n  const yExtent = d3.extent(data, yFunc);\n  const yScale = d3\n    .scaleLinear()\n    .domain(yExtent)\n    .range([plotHeight, 0]);\n\n  const xValue = d => xScale(xFunc(d));\n  const yValue = d => yScale(yFunc(d));\n  const colorValue = d =>\n    colorByFunc(d) ? colorScale(colorByFunc(d)) : \"#888\";\n\n  const yAxis = d3.axisLeft(yScale).tickSizeOuter(0);\n  const xAxis = d3.axisBottom(xScale).tickSizeOuter(0);\n\n  let voronoiDiagram = d3.voronoi()([]);\n\n  if (!exactMouse) {\n    const pixelJitter = () => Math.random() - 0.5;\n    voronoiDiagram = d3\n      .voronoi()\n      .x(d => xValue(d) + pixelJitter())\n      .y(d => yValue(d) + pixelJitter())\n      .size([plotWidth, plotHeight])(data);\n  }\n\n  const mouseRadius = plotWidth / 10;\n\n  return {\n    plotWidth,\n    plotHeight,\n    padding,\n    colorValue,\n    xScale,\n    yScale,\n    xValue,\n    yValue,\n    xAxis,\n    yAxis,\n    voronoiDiagram,\n    mouseRadius\n  };\n}\n\n/**\n * Scatter Plot component used to visualize two variables in the same chart.\n * Provides brushing capabilities for selecting subsets of data points.\n * Also provides zooming and hovering capabilities.\n */\nclass ScatterPlot extends PureComponent {\n  static propTypes = {\n    /**\n     * Boolean to enable/disable brushing interaction.\n     */\n    brushable: PropTypes.bool,\n\n    /**\n     * Function to extract attribute used to color dots with.\n     * Used in conjunction with `colorScale` a la:\n     * `colorScale(colorByFunc(d))`.\n     */\n    colorByFunc: PropTypes.func,\n\n    /**\n     * D3-style color scale function to color dots by.\n     */\n    colorScale: PropTypes.func,\n\n    /**\n     * Array of data objects to plot. x,y, and color values\n     * are extracted from each object in this array using\n     * xFunc, yFunc, and colorByFunc, respectively.\n     */\n    data: PropTypes.array,\n\n    /**\n     * A nice UX feature is when mousing over a plot,\n     * the nearest point to the mouse cursor can be detected\n     * using a voronoi diagram and its tooltip can be displayed\n     * without having to explicitly mouse onto that point.\n     * Unfortunately, these plots are flexible enough to allow data\n     * that is un-voronoi-able... causing crashing behavior. So,\n     * this approach (in certain contexts) needs to be abandoned.\n     * This boolean controls if 'exact mouse' (no voronoi) should\n     * be used for mouse-over or not.\n     * @default true\n     */\n    exactMouse: PropTypes.bool,\n\n    /**\n     * Height of component\n     */\n    height: PropTypes.number,\n\n    /**\n     * Values being hovered on.\n     */\n    hoverData: PropTypes.shape({\n      values: PropTypes.array\n    }),\n\n    /**\n     * Unique name of plot. Used for\n     * maximization interaction.\n     */\n    name: PropTypes.string,\n\n    /**\n     * Callback for brushing interaction.\n     */\n    onFilter: PropTypes.func,\n\n    /**\n     *\n     */\n    onHover: PropTypes.func,\n\n    /**\n     * Radius of dots.\n     * @default 4\n     */\n    radius: PropTypes.number,\n\n    /**\n     * Values selected.\n     */\n    selectedData: PropTypes.shape({\n      values: PropTypes.array\n    }),\n\n    /**\n     * Function used to generate tooltip text.\n     * function is provided data object.\n     */\n    tooltipTextFunc: PropTypes.func,\n\n    /**\n     * Width of component.\n     */\n    width: PropTypes.number,\n\n    /**\n     * Accessor function for x value of data object to display.\n     */\n    xFunc: PropTypes.func,\n\n    /**\n     * x-axis label.\n     */\n    xLabel: PropTypes.string,\n\n    /**\n     * Accessor function for y value of data object to display.\n     */\n    yFunc: PropTypes.func,\n\n    /**\n     * y-axis label.\n     */\n    yLabel: PropTypes.string,\n\n    /**\n     * Boolean controlling if chart is zoomable or not.\n     * @default true\n     */\n    zoomable: PropTypes.bool\n  };\n\n  static defaultProps = {\n    data: [],\n    name: \"scatter\",\n    brushable: true,\n    colorByFunc: () => {},\n    height: 400,\n    hoverData: null,\n    selectedData: null,\n    width: 300,\n    onFilter: () => {},\n    colorScale: () => \"#ddd\",\n    xFunc: d => d.x,\n    yFunc: d => d.y,\n    radius: 4,\n    xLabel: \"\",\n    yLabel: \"\",\n    zoomable: true,\n    exactMouse: false\n  };\n\n  /**\n   *\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      zooming: false,\n      showTable: false\n    };\n\n    this.handleLassoSelect = this.handleLassoSelect.bind(this);\n    this.handleZoom = this.handleZoom.bind(this);\n    this.handleZoomingToggle = this.handleZoomingToggle.bind(this);\n    this.handleMouseOver = this.handleMouseOver.bind(this);\n    this.handleMouseOut = this.handleMouseOut.bind(this);\n    this.handleMouseOverCircle = this.handleMouseOverCircle.bind(this);\n    this.handleMouseOutCircle = this.handleMouseOutCircle.bind(this);\n  }\n\n  /**\n   * When the react component mounts, setup the d3 vis\n   */\n  componentDidMount() {\n    this.setup();\n  }\n\n  /**\n   * When the react component updates, update the d3 vis\n   */\n  componentDidUpdate() {\n    this.update();\n  }\n\n  /**\n   *\n   */\n  handleLassoSelect(d) {\n    this.props.onFilter(d);\n  }\n\n  /**\n   *\n   */\n  handleZoom() {\n    const { xAxis, yAxis, xFunc, yFunc } = this.props;\n    let { xScale, yScale } = this.props;\n\n    // record zoom transform to be used in\n    // other interaction callbacks.\n    this.zoomTransform = d3.event.transform;\n\n    xScale = this.zoomTransform.rescaleX(xScale);\n    yScale = this.zoomTransform.rescaleY(yScale);\n\n    this.yAxis.call(yAxis.scale(yScale));\n\n    this.xAxis.call(xAxis.scale(xScale));\n\n    const xValue = d => xScale(xFunc(d));\n    const yValue = d => yScale(yFunc(d));\n\n    this.highlightCircle(null);\n\n    this.chart\n      .selectAll(\".dot\")\n      .attr(\"cx\", xValue)\n      .attr(\"cy\", yValue);\n  }\n\n  /**\n   *\n   */\n  handleZoomingToggle() {\n    const { zooming } = this.state;\n    this.setState({\n      zooming: !zooming\n    });\n  }\n\n  /**\n   *\n   */\n  highlightCircle(d) {\n    const {\n      xFunc,\n      yFunc,\n      colorScale,\n      colorBy,\n      tooltipTextFunc,\n      onHover\n    } = this.props;\n    let { xScale, yScale } = this.props;\n\n    xScale = this.zoomTransform.rescaleX(xScale);\n    yScale = this.zoomTransform.rescaleY(yScale);\n\n    if (!d) {\n      this.highlight.style(\"display\", \"none\");\n      this.tooltip.hideTooltip();\n    } else {\n      this.highlight\n        .style(\"display\", \"\")\n        .style(\"stroke\", colorScale(d[colorBy]))\n        .attr(\"cx\", xScale(xFunc(d)))\n        .attr(\"cy\", yScale(yFunc(d)));\n      if (tooltipTextFunc) {\n        this.tooltip.showTooltip(tooltipTextFunc(d), d3.event);\n      }\n    }\n\n    if (onHover) {\n      onHover(d);\n    }\n  }\n\n  /**\n   *\n   */\n  handleMouseOver(el) {\n    const { voronoiDiagram, mouseRadius } = this.props;\n\n    let mousePos = d3.mouse(el);\n    mousePos = this.zoomTransform.invert(mousePos);\n    const site = voronoiDiagram.find(mousePos[0], mousePos[1], mouseRadius);\n    this.highlightCircle(site && site.data);\n  }\n\n  /**\n   *\n   */\n  handleMouseOut() {\n    this.highlightCircle(null);\n  }\n\n  /**\n   *\n   */\n  handleMouseOverCircle(d) {\n    this.highlightCircle(d);\n  }\n\n  /**\n   *\n   */\n  handleMouseOutCircle() {\n    this.highlightCircle(null);\n  }\n\n  /**\n   *\n   */\n  setup() {\n    const { zoomable, plotHeight, plotWidth, radius, exactMouse } = this.props;\n    const cRoot = d3.select(this.root);\n\n    this.g = cRoot.append(\"g\");\n\n    this.underlay = this.g\n      .append(\"rect\")\n      .classed(\"underlay\", true)\n      .attr(\"width\", plotWidth)\n      .attr(\"height\", plotHeight)\n      .style(\"fill\", \"white\");\n\n    const that = this;\n    if (!exactMouse) {\n      this.underlay\n        .on(\"mousemove\", function(d) {\n          that.handleMouseOver(this, d);\n        })\n        .on(\"mouseleave\", function() {\n          that.handleMouseOut();\n        });\n    }\n\n    if (zoomable) {\n      this.setupZoom(this.underlay);\n    }\n\n    this.chart = this.g.append(\"g\").classed(\"chart-group\", true);\n    this.tooltip = floatingTooltip(\"_tooltip\");\n\n    this.highlight = this.g\n      .append(\"circle\")\n      .attr(\"class\", \"highlight-circle\")\n      .attr(\"r\", radius + 2)\n      .style(\"fill\", \"none\")\n      .style(\"display\", \"none\");\n\n    this.xAxis = this.g.append(\"g\").classed(\"x-axis\", true);\n    this.yAxis = this.g.append(\"g\").classed(\"y-axis\", true);\n    this.yAxisLabel = this.g\n      .append(\"text\")\n      .attr(\"class\", \"axis-label\")\n      .attr(\"text-anchor\", \"middle\");\n\n    this.xAxisLabel = this.g\n      .append(\"text\")\n      .attr(\"class\", \"axis-label\")\n      .attr(\"text-anchor\", \"middle\");\n\n    this.update();\n  }\n\n  /**\n   *\n   */\n  setupZoom(underlay) {\n    this.zoomTransform = d3.zoomIdentity;\n\n    this.zoom = d3\n      .zoom()\n      .scaleExtent([1 / 4, 8])\n      .on(\"zoom\", this.handleZoom);\n\n    underlay.call(this.zoom);\n  }\n\n  /**\n   *\n   */\n  update() {\n    const { padding } = this.props;\n    this.g.attr(\"transform\", `translate(${padding.left} ${padding.top})`);\n\n    this.updateChart();\n    this.updateAxes();\n  }\n\n  /**\n   *\n   */\n  updateChart() {\n    const {\n      data,\n      selectedData,\n      hoverData,\n      xFunc,\n      yFunc,\n      colorValue,\n      radius,\n      exactMouse\n    } = this.props;\n\n    let { xScale, yScale } = this.props;\n\n    xScale = this.zoomTransform.rescaleX(xScale);\n    yScale = this.zoomTransform.rescaleY(yScale);\n\n    const xValue = d => xScale(xFunc(d));\n    const yValue = d => yScale(yFunc(d));\n\n    const binding = this.chart\n      .selectAll(\".dot\")\n      .data(\n        data.filter(datum => isfinite(xFunc(datum)) && isfinite(yFunc(datum))),\n        datum => datum.key\n      );\n\n    const enter = binding\n      .enter()\n      .append(\"circle\")\n      .classed(\"dot\", true);\n\n    const merged = enter.merge(binding);\n\n    merged\n      .attr(\"cx\", xValue)\n      .attr(\"cy\", yValue)\n      .attr(\"r\", radius)\n      .attr(\"fill\", colorValue);\n\n    if (exactMouse) {\n      merged\n        .on(\"mouseover\", this.handleMouseOverCircle)\n        .on(\"mouseout\", this.handleMouseOutCircle);\n    } else {\n      merged.style(\"pointer-events\", \"none\");\n    }\n\n    merged\n      .classed(\"highlight\", false)\n      .classed(\"dim\", false)\n      .classed(\"selected\", false);\n\n    if (hoverData && hoverData.values.length > 0) {\n      const hoverFilter = d => hoverData.values.includes(d.key);\n\n      merged\n        .classed(\"highlight\", false)\n        .classed(\"dim\", true)\n        .filter(hoverFilter)\n        .classed(\"highlight\", true)\n        .classed(\"dim\", false)\n        .raise()\n        .filter(hoverFilter)\n        .classed(\"selected\", true)\n        .raise();\n    }\n\n    if (selectedData && selectedData.values && selectedData.values.length > 0) {\n      merged\n        .filter(\n          d =>\n            d[selectedData.key] &&\n            includesAny(d[selectedData.key], selectedData.values)\n        )\n        .classed(\"highlight\", true)\n        .classed(\"dim\", false)\n        .raise();\n    }\n\n    binding.exit().remove();\n  }\n\n  /**\n   *\n   */\n  updateAxes() {\n    const {\n      xAxis,\n      yAxis,\n      xLabel,\n      yLabel,\n      plotHeight,\n      plotWidth,\n      padding\n    } = this.props;\n\n    let { xScale, yScale } = this.props;\n\n    xScale = this.zoomTransform.rescaleX(xScale);\n    yScale = this.zoomTransform.rescaleY(yScale);\n\n    this.xAxis\n      .attr(\"transform\", `translate(${0}, ${plotHeight})`)\n      .call(xAxis.scale(xScale));\n\n    this.yAxis.call(yAxis.scale(yScale));\n\n    this.yAxisLabel\n      .attr(\n        \"transform\",\n        `rotate(270) translate(${-plotHeight / 2} ${-padding.left + 18})`\n      )\n      .text(yLabel);\n\n    this.xAxisLabel\n      .attr(\n        \"transform\",\n        `translate(${plotWidth / 2} ${plotHeight +\n          padding.top +\n          padding.bottom / 3})`\n      )\n      .text(xLabel);\n  }\n\n  /**\n   *\n   */\n  render() {\n    const { height, width } = this.props;\n\n    // keeps plot from overlapping on small screens - as\n    // elements are absolutely positioned within.\n    const style = { height: height };\n\n    return (\n      <div className=\"ScatterPlot\">\n        <div className=\"chart-brush\" style={style}>\n          <svg\n            className=\"chart\"\n            ref={node => {\n              this.root = node;\n            }}\n            height={height}\n            width={width}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default addComputedProps(chartProps)(ScatterPlot);\n","/**\n * Returns true if collection includes any in list\n * @param  {Array} collection Array of values to search\n * @param  {Array} list values to check for\n * @returns {Bool} true if collection contains any\n *  of the elements in list\n */\nexport function includesAny(collection, list) {\n  if (!collection || !list) {\n    return false;\n  }\n\n  if (!Array.isArray(collection)) {\n    collection = [collection];\n  }\n\n  // array.some tests whether at least one element\n  // in the array passes the test\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\n  return collection.some(r => list.includes(r));\n}\n","/**\n * Round a value to a given number of decimals\n * @param {Number} value Value to round.\n * @param {Number} decimals decimals to round to.\n * @return {Number} rounded number\n */\nexport function roundNumber(value, decimals) {\n  return Number(`${Math.round(`${value}e${decimals}`)}e-${decimals}`);\n}\n\n/**\n * Add commas to a number to make it look better\n * @param {Number} nStr to add commas to\n * @return {String} number with commas\n */\nexport function addCommas(nStr) {\n  if (!nStr) {\n    nStr = 0;\n  }\n  nStr = +nStr + \"\";\n  const x = nStr.split(\".\");\n  let x1 = x[0];\n  const x2 = x.length > 1 ? `.${x[1]}` : \"\";\n  const rgx = /(\\d+)(\\d{3})/;\n  while (rgx.test(x1)) {\n    x1 = x1.replace(rgx, \"$1,$2\");\n  }\n  return x1 + x2;\n}\n\n/**\n * @param {Number} number Number to format\n * @return {String} number with commas and M/B instaed of million / billion\n */\nexport function formatNumber(number, thousand = false) {\n  if (!number) {\n    number = 0;\n  }\n  if (number > 999999999) {\n    number = roundNumber(number / 1000000000.0, 1);\n    return `${addCommas(number)}B`;\n  } else if (number > 999999) {\n    number = roundNumber(number / 1000000.0, 1);\n    return `${addCommas(number)}M`;\n  } else if (number > 999 && thousand) {\n    number = roundNumber(number / 1000.0, 1);\n    return `${addCommas(number)}K`;\n  }\n  return addCommas(number);\n}\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport { Container, Row, Col } from \"reactstrap\";\n\nimport AutoWidth from \"../AutoWidth/AutoWidth\";\nimport ScatterPlot from \"../ScatterPlot/ScatterPlot\";\nimport { tableContent } from \"../tooltip/tooltip\";\nimport { formatNumber } from \"../../utils/format\";\n\nimport \"./App.scss\";\n\nfunction getData() {\n  const changesPath = `${process.env.PUBLIC_URL}/data/gov_data_year.csv`;\n  return d3.csv(changesPath);\n}\n\nconst STRING_COLUMNS = [\"country\", \"iso3c\", \"iso2c\"];\nconst NULL_STRING = \"NA\";\n\n/**\n *\n * @param {*} data\n */\nfunction processData(data) {\n  data.forEach(datum => {\n    Object.keys(datum).forEach(key => {\n      if (!STRING_COLUMNS.includes(key)) {\n        datum[key] = datum[key] === NULL_STRING ? null : +datum[key];\n      }\n    });\n\n    datum.key = `${datum.country}:${datum.year}`;\n  });\n  return data;\n}\n\n/**\n *\n */\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      focusYear: 2017,\n      scatterHover: null\n    };\n\n    this.handleScatterHover = this.handleScatterHover.bind(this);\n  }\n\n  handleScatterHover(hoverData) {\n    const { scatterHover } = this.state;\n\n    if (hoverData) {\n      if (!scatterHover || !scatterHover.values.includes(hoverData.key)) {\n        this.setState({ scatterHover: { values: [hoverData.key] } });\n      }\n    } else {\n      this.setState({ scatterHover: null });\n    }\n  }\n\n  /**\n   *\n   */\n  componentDidMount() {\n    getData()\n      .then(processData)\n      .then(data => {\n        console.log(data);\n        this.setState({ data });\n      });\n  }\n\n  /**\n   *\n   */\n  renderScatterGNIvsKDI() {\n    const { data, focusYear, scatterHover } = this.state;\n    const displayData = data.filter(d => d.year === focusYear);\n    const xFunc = d => d.gni_per_cap;\n    const yFunc = d => d.hdi;\n\n    const xLabel = \"GNI per capita\";\n    const yLabel = \"Human Development Index\";\n\n    const tooltipTextFunc = d => {\n      const tooltipData = { [xLabel]: xFunc(d), [yLabel]: yFunc(d) };\n      return tableContent(tooltipData, {\n        title: d.country,\n        valueFormat: formatNumber\n      });\n    };\n\n    return (\n      <AutoWidth>\n        <ScatterPlot\n          data={displayData}\n          xFunc={xFunc}\n          yFunc={yFunc}\n          xLabel={xLabel}\n          yLabel={yLabel}\n          hoverData={scatterHover}\n          tooltipTextFunc={tooltipTextFunc}\n          onHover={this.handleScatterHover}\n        />\n      </AutoWidth>\n    );\n  }\n\n  /**\n   *\n   */\n  renderScatterGNIvsEfree() {\n    const { data, focusYear, scatterHover } = this.state;\n    const displayData = data.filter(d => d.year === focusYear);\n    const xFunc = d => d.gni_per_cap;\n    const yFunc = d => d.efree;\n\n    const xLabel = \"GNI per capita\";\n    const yLabel = \"Economic Freedom Score\";\n\n    const tooltipTextFunc = d => {\n      const tooltipData = { [xLabel]: xFunc(d), [yLabel]: yFunc(d) };\n      return tableContent(tooltipData, {\n        title: d.country,\n        valueFormat: formatNumber\n      });\n    };\n\n    return (\n      <AutoWidth>\n        <ScatterPlot\n          data={displayData}\n          xFunc={xFunc}\n          yFunc={yFunc}\n          xLabel={xLabel}\n          yLabel={yLabel}\n          hoverData={scatterHover}\n          tooltipTextFunc={tooltipTextFunc}\n          onHover={this.handleScatterHover}\n        />\n      </AutoWidth>\n    );\n  }\n\n  /**\n   *\n   */\n  render() {\n    return (\n      <div className=\"App\">\n        <Container>\n          <Row>\n            <Col>\n              <p className=\"small-blue-title\">Visualization</p>\n              <h1>Good Government</h1>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={2} />\n            <Col sm={9}>\n              <div className=\"line\" />\n              <p>\n                What makes a good government? Some would say this is a good\n                question.\n              </p>\n              <p>\n                What makes a good government? Some would say this is a good\n                question.\n              </p>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={5}>{this.renderScatterGNIvsKDI()}</Col>\n            <Col md={5}>{this.renderScatterGNIvsEfree()}</Col>\n          </Row>\n          <Row>\n            <Col sm={2} />\n            <Col sm={9}>\n              <div className=\"blank\" />\n              <p>But that is not the whole story.</p>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./custom.scss\";\nimport App from \"./components/App/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}