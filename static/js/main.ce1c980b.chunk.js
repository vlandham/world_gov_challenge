(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(18),l=a.n(i),o=(a(57),a(59),a(32)),s=a(12),c=a(7),d=a(8),u=a(10),h=a(9),p=a(11),m=a(5),g=a(3),f=a(4),y=a(48),v=a.n(y),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={width:e.defaultRenderWidth},e.debounceTime?a.updateWidth=v()(a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),e.debounceTime):a.updateWidth=a.updateWidth.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth)}},{key:"componentDidUpdate",value:function(){this.props.parentMayResize&&this.updateWidth()}},{key:"componentWillUnmount",value:function(){this.updateWidth.cancel(),window.removeEventListener("resize",this.updateWidth)}},{key:"getResizeDOMNode",value:function(){return l.a.findDOMNode(this)}},{key:"updateWidth",value:function(){var e=this.state.width,t=this.getResizeDOMNode().offsetWidth;e!==t&&this.setState({width:t})}},{key:"render",value:function(){var e=this.state.width;var t,a=this.props.children;return a&&null!=e&&(t=r.a.cloneElement(a,{width:this.state.width})),r.a.createElement("div",{className:"auto-width"},t)}}]),t}(n.Component);x.defaultProps={parentMayResize:!1,defaultRenderWidth:null,debounceTime:100};var b=x,k=a(15),w=a.n(k),E=a(16),O=a.n(E);var S=a(49);a(63);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=Object(S.a)({},{title:null,keys:null,keyFormat:function(e){return e},valueFormat:function(e){return e}},t)).keys=t.keys||Object.keys(e);var a="<div>";return t.title&&(a+="<h2>".concat(t.title,"</h2>")),a+="<table><tbody>",a+=t.keys.map(function(a){return a in e?"<tr><td>".concat(t.keyFormat(a),"</td><td>").concat(t.valueFormat(e[a]),"</td></tr>"):""}).join(""),a+="</tbody></table></div>"}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{xOffset:35,yOffset:-60,width:null},a=g.select("body").append("div").attr("class","tooltip").attr("id",e).html("");function n(){a.style("opacity",0).style("pointer-events","none")}function r(e){return Number(e.replace(/[^\d.-]/g,""))}function i(e){var n=t.xOffset,i=t.yOffset,l=r(a.style("width")),o=r(a.style("height")),s=window.scrollY,c=window.scrollX,d=document.all?e.clientX+c:e.pageX,u=document.all?e.clientY+s:e.pageY,h=d-c+2*n+l>window.innerWidth?d-l-n:d+n;h<c+n&&(h=c+n);var p=u-s+2*i+o>window.innerHeight?u-o-2*i:u+i;p<s+i&&(p=u+i),a.style("top",p+"px").style("left",h+"px")}return t.width&&a.style("width",t.width),n(),{showTooltip:function(e,t){a.style("opacity",1).style("pointer-events","all").html(e),i(t)},hideTooltip:n,updatePosition:i}}a(65);var j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={zooming:!1,showTable:!1},a.handleLassoSelect=a.handleLassoSelect.bind(Object(m.a)(Object(m.a)(a))),a.handleZoom=a.handleZoom.bind(Object(m.a)(Object(m.a)(a))),a.handleZoomingToggle=a.handleZoomingToggle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOver=a.handleMouseOver.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOut=a.handleMouseOut.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOverCircle=a.handleMouseOverCircle.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseOutCircle=a.handleMouseOutCircle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleLassoSelect",value:function(e){this.props.onFilter(e)}},{key:"handleZoom",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xFunc,r=e.yFunc,i=this.props,l=i.xScale,o=i.yScale;this.zoomTransform=g.event.transform,l=this.zoomTransform.rescaleX(l),o=this.zoomTransform.rescaleY(o),this.yAxis.call(a.scale(o)),this.xAxis.call(t.scale(l));this.highlightCircle(null),this.chart.selectAll(".dot").attr("cx",function(e){return l(n(e))}).attr("cy",function(e){return o(r(e))})}},{key:"handleZoomingToggle",value:function(){var e=this.state.zooming;this.setState({zooming:!e})}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,r=t.colorScale,i=t.colorBy,l=t.tooltipTextFunc,o=t.onHover,s=this.props,c=s.xScale,d=s.yScale;c=this.zoomTransform.rescaleX(c),d=this.zoomTransform.rescaleY(d),e?(this.highlight.style("display","").style("stroke",r(e[i])).attr("cx",c(a(e))).attr("cy",d(n(e))),l&&this.tooltip.showTooltip(l(e),g.event),this.annotation.attr("opacity",.3)):(this.highlight.style("display","none"),this.tooltip.hideTooltip(),this.annotation.attr("opacity",1)),o&&o(e)}},{key:"handleMouseOver",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=g.mouse(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseOut",value:function(){this.highlightCircle(null)}},{key:"handleMouseOverCircle",value:function(e){this.highlightCircle(e)}},{key:"handleMouseOutCircle",value:function(){this.highlightCircle(null)}},{key:"setup",value:function(){var e=this.props,t=e.plotHeight,a=e.plotWidth,n=e.radius,r=e.exactMouse,i=g.select(this.root);this.g=i.append("g"),this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",a).attr("height",t).style("fill","white");var l=this;r||this.underlay.on("mousemove",function(e){l.handleMouseOver(this,e)}).on("mouseleave",function(){l.handleMouseOut()}),this.setupZoom(this.underlay),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=A("_tooltip",{xOffset:5,yOffset:20}),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",2*n).style("fill","none").style("display","none"),this.annotation=this.g.append("g").classed("annotation",!0).attr("pointer-events","none"),this.xAxis=this.g.append("g").classed("x-axis",!0),this.yAxis=this.g.append("g").classed("y-axis",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"setupZoom",value:function(e){var t=this.props.zoomable;this.zoomTransform=g.zoomIdentity,t&&(this.zoom=g.zoom().scaleExtent([.25,8]).on("zoom",this.handleZoom),e.call(this.zoom))}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAnnotation(),this.updateAxes()}},{key:"updateAnnotation",value:function(){var e=this.props,t=e.data,a=e.labels,n=e.xFunc,r=e.yFunc,i=this.props,l=i.xScale,o=i.yScale,s=t.filter(function(e){return a[e.country]});l=this.zoomTransform.rescaleX(l),o=this.zoomTransform.rescaleY(o);var c=this.annotation.selectAll(".label").data(s,function(e){return e.country});c.enter().append("text").classed("label",!0).merge(c).attr("x",function(e){return l(n(e))}).attr("y",function(e){return function(e){return o(r(e))}(e)}).attr("dy",function(e){return"below"===a[e.country].position?15:3}).attr("dx",function(e){return"below"===a[e.country].position?null:8}).attr("text-anchor",function(e){return"below"===a[e.country].position?"middle":"start"}).text(function(e){return e.country})}},{key:"updateChart",value:function(){var e=this.props,t=e.data,a=e.selectedData,n=e.hoverData,r=e.xFunc,i=e.yFunc,l=e.colorValue,o=e.radius,s=e.exactMouse,c=this.props,d=c.xScale,u=c.yScale;d=this.zoomTransform.rescaleX(d),u=this.zoomTransform.rescaleY(u);var h=this.chart.selectAll(".dot").data(t.filter(function(e){return O()(r(e))&&O()(i(e))}),function(e){return e.key}),p=h.enter().append("circle").classed("dot",!0).merge(h);if(p.attr("cx",function(e){return d(r(e))}).attr("cy",function(e){return u(i(e))}).attr("r",o).attr("fill",l),s?p.on("mouseover",this.handleMouseOverCircle).on("mouseout",this.handleMouseOutCircle):p.style("pointer-events","none"),p.classed("highlight",!1).classed("dim",!1).classed("selected",!1),n&&n.values.length>0){var m=function(e){return n.values.includes(e.key)};p.classed("highlight",!1).classed("dim",!0).filter(m).classed("highlight",!0).classed("dim",!1).attr("r",1.5*o).raise().filter(m).classed("selected",!0).raise()}a&&a.values&&a.values.length>0&&p.filter(function(e){return e[a.key]&&(t=e[a.key],n=a.values,!(!t||!n)&&(Array.isArray(t)||(t=[t]),t.some(function(e){return n.includes(e)})));var t,n}).classed("highlight",!0).classed("dim",!1).raise(),h.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,l=e.plotWidth,o=e.padding,s=this.props,c=s.xScale,d=s.yScale;c=this.zoomTransform.rescaleX(c),d=this.zoomTransform.rescaleY(d),this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(c)),this.yAxis.call(a.scale(d)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-o.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(i+o.top+o.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.height,n=t.width,i={height:a};return r.a.createElement("div",{className:"ScatterPlot"},r.a.createElement("div",{className:"chart-brush",style:i},r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:a,width:n})))}}]),t}(n.PureComponent);j.defaultProps={data:[],labels:{},name:"scatter",brushable:!0,colorByFunc:function(){},height:400,hoverData:null,selectedData:null,width:300,onFilter:function(){},colorScale:function(){return"#ddd"},xFunc:function(e){return e.x},yFunc:function(e){return e.y},radius:4,xLabel:"",yLabel:"",zoomable:!1,exactMouse:!1};var z=w()(function(e){var t=e.data,a=e.height,n=e.width,r=e.xFunc,i=e.yFunc,l=e.colorByFunc,o=e.colorScale,s=e.exactMouse,c={top:20,right:20,bottom:50,left:60},d=n-c.left-c.right,u=a-c.top-c.bottom,h=g.extent(t,r),p=Math.round((h[1]-h[0])/20),m=g.scaleLinear().domain([h[0]-p,h[1]+p]).range([0,d]),f=g.extent(t,i),y=(f[1]-f[0])/20,v=g.scaleLinear().domain([f[0]-y,f[1]+y]).range([u,0]),x=function(e){return m(r(e))},b=function(e){return v(i(e))},k=g.axisLeft(v).tickSizeOuter(0).ticks(4),w=g.axisBottom(m).tickSizeOuter(0).ticks(4),E=g.voronoi()([]);if(!s){var O=function(){return Math.random()-.5};E=g.voronoi().x(function(e){return x(e)+O()}).y(function(e){return b(e)+O()}).size([d,u])(t)}return{plotWidth:d,plotHeight:u,padding:c,colorValue:function(e){return l(e)?o(l(e)):"#888"},xScale:m,yScale:v,xValue:x,yValue:b,xAxis:w,yAxis:k,voronoiDiagram:E,mouseRadius:d/10}})(j);function M(e,t){return Number("".concat(Math.round("".concat(e,"e").concat(t)),"e-").concat(t))}function C(e){e||(e=0);for(var t=(e=+e+"").split("."),a=t[0],n=t.length>1?".".concat(t[1]):"",r=/(\d+)(\d{3})/;r.test(a);)a=a.replace(r,"$1,$2");return a+n}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||(e=0),e>999999999?(e=M(e/1e9,1),"".concat(C(e),"B")):e>999999?(e=M(e/1e6,1),"".concat(C(e),"M")):e>999&&t?(e=M(e/1e3,1),"".concat(C(e),"K")):C(e)}var _=[-.05,1.05],D={hdi:{label:"Human Development Index",display:"hdi",global:"hdi_norm",local:"hdi_norm_local",sortable:"hdi_max"},gdp:{label:"GDP per Capita",display:"gdp_per_cap",global:"gdp_norm",local:"gdp_norm_local",sortable:"gdp_max"},gni:{label:"GNI per Capita",display:"gni_per_cap",global:"gni_norm",local:"gni_norm_local",sortable:"gni_max"},efree:{label:"Economic Freedom",display:"efree",global:"efree_norm",local:"efree_norm_local",sortable:"efree_max"},gini:{label:"Gini Index",display:"gini",global:"gini_norm",local:"gini_norm_local",sortable:"gini_max"},year:{label:"Year",display:"year"}},T={dataDisplay:{options:[{label:"HDI vs GDP",id:"hdi_gdp"},{label:"Economic Freedom vs GDP",id:"efree_gdp"},{label:"Gini vs GDP",id:"gini_gdp"},{label:"HDI vs Economic Freedom",id:"hdi_efree"},{label:"HDI vs Gini",id:"hdi_gini"},{label:"Economic Freedom vs Gini",id:"efree_gini"}]},sortOrder:{options:[{label:"By Region",id:"region"},{label:"By HDI",id:"hdi"},{label:"By GDP",id:"gdp"},{label:"By Economic Freedom",id:"efree"},{label:"By Gini Index",id:"gini"},{label:"Alphabetically",id:"alpha"}]},scale:{options:[{label:"Country-level",id:"local"},{label:"Global",id:"global"}]}},G={hdi:{"United States":{id:"United States",position:"below"},Singapore:{id:"Singapore",position:"below"},Italy:{id:"Italy",position:"below"},Iraq:{id:"Italy",position:"below"},Sudan:{id:"Italy",position:"right"},Chad:{id:"Italy",position:"right"}},efree:{"United States":{id:"United States",position:"below"},Singapore:{id:"Singapore",position:"below"},Italy:{id:"Italy",position:"below"},Iraq:{id:"Iraq",position:"below"},Algeria:{id:"Algeria",position:"below"},Chile:{id:"Chile",position:"below"},Switzerland:{id:"Switzerland",position:"below"}}},P={"Norway:hdi:gdp:local":[{year:2015,text:"Falling oil prices impact GDP.",dx:-81,dy:8}],"United Kingdom:hdi:gdp:local":[{year:2009,text:"The Great Recession.",dx:-38,dy:-26}],"United States:hdi:gdp:local":[{year:2009,text:"The Great Recession.",dx:-27,dy:-9}],"Sweden:hdi:gdp:local":[{year:2009,text:"The Great Recession.",dx:-9,dy:-76}],"Libya:hdi:gdp:local":[{year:2011,text:"First Libyan Civil War.",dx:0,dy:-139}],"Libya:hdi:gdp:global":[{year:2011,text:"First Libyan Civil War.",dx:70,dy:50}],"Iraq:hdi:gdp:local":[{year:2003,text:"US invades of Iraq for weapons of mass destruction.",dx:0,dy:-139}],"Zimbabwe:hdi:gdp:local":[{year:2009,text:"Power-sharing agreement between president and prime minister.",dx:0,dy:-109}],"Singapore:hdi:gdp:global":[{year:2010,text:"Singapore has one of the most open and least corrupt economies in the world.",dx:-5,dy:97}],"Singapore:efree:gdp:global":[{year:2010,text:"Singapore has one of the most open and least corrupt economies in the world.",dx:-5,dy:97}],"Azerbaijan:gini:gdp:local":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:gini:hdi:local":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:hdi:gini:local":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:gini:efree:local":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:gini:gdp:global":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:59,dy:-41}],"Azerbaijan:hdi:gini:global":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:65,dy:31}],"Azerbaijan:gini:efree:global":[{year:2002,text:"Researchers suggest low Gini values are due to data collection issues.",dx:-26,dy:-38}],"El Salvador:efree:gdp:local":[{year:2011,text:"Bureaucracy and government interference has erroded Economic Freedom.",dx:4,dy:-43}],"Sudan:hdi:gdp:local":[{year:2013,text:"South Sudanese Civil War.",dx:-1,dy:71}],"Haiti:hdi:gdp:local":[{year:2010,text:"2010 Haiti earthquake.",dx:0,dy:-90}],"Greece:hdi:gdp:local":[{year:2009,text:"Greek government debt crisis.",dx:-8,dy:98}],"Jordan:hdi:gdp:local":[{year:2011,text:"Arab Spring protests.",dx:-9,dy:58}],"United States:efree:gdp:local":[{year:2010,text:"Federal regulations increased during Barack Obama\u2019s presidency",dx:-2,dy:33}],"Cambodia:hdi:gdp:global":[{year:2011,text:"Poverty rate has been cut in half since 2004.",dx:66,dy:0}],"Cambodia:hdi:gdp:local":[{year:2011,text:"Poverty rate has been cut in half since 2004.",dx:12,dy:72}],"Sri Lanka:hdi:gdp:global":[{year:2008,text:"Sri Lanka provides free health and education services to its citizens.",dx:70,dy:57}],"Malawi:hdi:gdp:local":[{year:2002,text:"Malawian food crisis.",dx:22,dy:-113}],"Central African Republic:hdi:gdp:local":[{year:2012,text:"Start of Civil War.",dx:-46,dy:-1}]},N=a(50);a(91);var W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleMouseover=a.handleMouseover.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseout=a.handleMouseout.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleMouseover",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=g.mouse(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseout",value:function(e){this.highlightCircle(null)}},{key:"highlightCircle",value:function(e){var t=this.props,a=t.xFunc,n=t.yFunc,r=t.colorScale,i=t.colorBy,l=t.tooltipTextFunc,o=t.onHover,s=this.props,c=s.xScale,d=s.yScale;c=this.zoomTransform.rescaleX(c),d=this.zoomTransform.rescaleY(d),e?(this.highlight.style("display","").style("stroke",r(e[i])).attr("cx",c(a(e))).attr("cy",d(n(e))),l&&this.tooltip.showTooltip(l(e),g.event)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),o&&o(e)}},{key:"setup",value:function(){var e=this.props,t=e.plotWidth,a=e.plotHeight,n=e.radius;this.zoomTransform=g.zoomIdentity;var r=g.select(this.root);this.g=r.append("g");var i=this;this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",t).attr("height",a).style("fill","white").style("opacity",.001).on("mousemove",function(e){i.handleMouseover(this,e)}).on("mouseleave",function(){i.handleMouseout()}),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=A("_tooltip",{xOffset:5,yOffset:20}),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("pointer-events","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0).style("pointer-events","none"),this.xAxis.append("line").classed("bar",!0),this.xAxis.append("text").classed("low",!0),this.xAxis.append("text").classed("high",!0),this.yAxis=this.g.append("g").classed("y-axis",!0).style("pointer-events","none"),this.yAxis.append("line").classed("bar",!0),this.yAxis.append("text").classed("low",!0),this.yAxis.append("text").classed("high",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateChart(),this.updateAxes(),this.updateCanvas()}},{key:"updateLine",value:function(){var e=this.props,t=e.dataFiltered,a=e.line,n=e.lineWidth,r=this.chart.selectAll(".line").data([t]);r.enter().append("path").classed("line",!0).merge(r).attr("fill","none").attr("stroke","#888").attr("stroke-width",n).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("pointer-events","none").attr("d",a),r.exit().remove()}},{key:"updateChart",value:function(){var e=this.props,t=e.dataFiltered,a=e.xValue,n=e.yValue,r=e.colorValue,i=e.radius,l=this.chart.selectAll(".dot").data(t,function(e){return e.key}),o=l.enter().append("circle").classed("dot",!0).merge(l);o.attr("cx",a).attr("cy",n).attr("r",i).attr("fill",r),o.style("pointer-events","none"),l.exit().remove()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xMetric,a=e.yMetric,n=e.xLabel,r=e.yLabel,i=e.plotHeight,l=e.plotWidth,o=e.padding;this.xAxis.attr("transform","translate(".concat(0,", ",i,")")),this.xAxis.attr("font-size",10).attr("fill","none"),this.yAxis.attr("font-size",10).attr("fill","none");var s="gini"===t?"more equal":"low",c="gini"===t?"less equal":"high",d="gini"===a?"more equal":"low",u="gini"===a?"less equal":"high";this.xAxis.select(".bar").attr("x1",0).attr("x2",l).attr("y1",0).attr("y2",0).style("stroke-width",1).style("stroke","black").style("fill","none"),this.xAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").text(s),this.xAxis.select(".high").attr("y",9).attr("x",l).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").text(c),this.yAxis.select(".bar").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",i).style("stroke-width",1).style("stroke","black").style("fill","none"),this.yAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(-i," ").concat(18-o.left,")")).text(d),this.yAxis.select(".high").attr("y",9).attr("x",0).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(0," ",18-o.left,")")).text(u),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-o.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(i+o.top+o.bottom/3,")")).text(n)}},{key:"updateCanvas",value:function(){var e=this.props,t=e.dataBackground,a=e.sizeScale,n=e.width,r=e.height,i=e.padding,l=e.lineWidth,o=e.scale,s=e.lineCanvas,c=e.dataFiltered,d=e.colorValue,u=e.name,h=g.color("#ccc");h.opacity="global"===o?.7:.15;var p=this.canvas.getContext("2d");s.context(p),p.setTransform(1,0,0,1,0,0),p.scale(a,a),p.clearRect(0,0,n,r),p.translate(i.left,i.top),p.lineWidth=l,p.strokeStyle=h.toString(),t.forEach(function(e){e.key!==u&&(p.beginPath(),s(e.valuesFilter),p.stroke())}),p.lineWidth=l;for(var m=0;m<c.length-1;m++){var f=[c[m],c[m+1]],y=d(c[m]);p.strokeStyle=y.toString(),p.beginPath(),s(f),p.stroke()}}},{key:"updateAxesExact",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,l=e.plotWidth,o=e.padding,s=e.xScale,c=e.yScale;this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(s)),this.yAxis.call(a.scale(c)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-o.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(i+o.top+o.bottom/3,")")).text(n)}},{key:"renderAnnotations",value:function(){var e=this.props,t=e.xValue,a=e.yValue,n=e.width,i=e.height,l=e.dataFiltered,o=e.annotations,s=e.padding;if(!o||0===o.length)return null;var c=o.map(function(e){var n=l.filter(function(t){return t.year===e.year});if(!n||0===n.length)return null;n=n[0];var i={label:e.text,lineType:"horizontal",align:null};return r.a.createElement(N.AnnotationCalloutElbow,{key:e.year,x:t(n),y:a(n),dx:e.dx,dy:e.dy,note:i,color:"black",editMode:!1,onDragEnd:function(e){return console.log(e)}})});return r.a.createElement("svg",{width:n,height:i,className:"annotations"},r.a.createElement("g",{transform:"translate(".concat(s.left,", ").concat(s.top,")")},c))}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.height,i=t.width,l=t.sizeScale,o={width:i,height:n};return r.a.createElement("div",{className:"ConnectedScatterPlot"},r.a.createElement("h4",{className:"title"},a),r.a.createElement("div",{className:"chart-container"},r.a.createElement("canvas",{className:"chart-canvas",ref:function(t){e.canvas=t},style:o,width:i*l,height:n*l}),r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:n,width:i}),this.renderAnnotations()))}}]),t}(n.PureComponent);W.defaultProps={data:[],radius:4,height:300,width:300,name:"",xFunc:function(e){return e.x},yFunc:function(e){return e.x},xLabel:"",yLabel:"",tooltipTextFunc:function(e){return""},colorScale:function(){return"#ddd"},annotations:[]};var I=w()(function(e){var t=e.data,a=e.xFunc,n=e.yFunc,r=e.zFunc,i=e.colorScale,l=e.height,o=e.width,s=e.scale,c=e.xExtent,d=e.yExtent,u={top:20,right:20,bottom:40,left:40},h=1;window.devicePixelRatio&&(h=window.devicePixelRatio);var p="local"===s?5:2,m="local"===s?3:1,f=o-u.left-u.right,y=l-u.top-u.bottom,v=t.filter(function(e){return O()(a(e))&&O()(n(e))});c=c||g.extent(t,a);var x=g.scaleLinear().domain(c).range([0,f]);d=d||g.extent(t,n);var b=g.scaleLinear().domain(d).range([y,0]),k=function(e){return x(a(e))},w=function(e){return b(n(e))},E=g.line().x(k).y(w).curve(g.curveCardinal.tension(.3)),S=g.line().x(k).y(w).curve(g.curveCardinal.tension(.3)),F=function(e){return"#ddd"};i&&(F=function(e){return i(r(e))});var A=null;if(t&&t.length>0){var j=function(){return Math.random()-.5};A=g.voronoi().x(function(e){return k(e)+j()}).y(function(e){return w(e)+j()}).size([f,y])(v)}var z=f/3,M=g.axisLeft(b).tickSizeOuter(0),C=g.axisBottom(x).tickSizeOuter(0);return{dataFiltered:v,line:E,lineCanvas:S,padding:u,plotHeight:y,plotWidth:f,xScale:x,yScale:b,xValue:k,yValue:w,colorValue:F,radius:p,lineWidth:m,voronoiDiagram:A,mouseRadius:z,xAxis:C,yAxis:M,sizeScale:h}},{changeInclude:["data","dataBackground","scale","sortOrder","width","height","xMetric","yMetric"]})(W);a(93);var H=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"renderYear",value:function(e){var t=this.props,a=t.xScale,n=t.radius,i=t.colorScale;return r.a.createElement("g",{key:e,transform:"translate(".concat(a(e),",",0,")")},r.a.createElement("text",{className:"title",textAnchor:"middle"},e),r.a.createElement("circle",{cx:0,cy:13,r:n,fill:i(e)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.years,n=t.dotWidth,i=t.height,l=t.radius;return r.a.createElement("div",{className:"ColorLegend"},r.a.createElement("svg",{className:"dots",width:n+4*l,height:i},r.a.createElement("g",{transform:"translate(".concat(2*l,",").concat(i/4,")")},a.map(function(t){return e.renderYear(t)}))))}}]),t}(n.Component);H.defaultProps={height:40};var B=w()(function(e){var t=e.domain,a=g.range(t[0],t[1]+1,2);a[a.length-1]!==t[1]&&a.push(t[1]);var n=26*a.length;return{dotWidth:n,years:a,radius:8,xScale:g.scalePoint().domain(a).range([0,n])}})(H);a(95);var R=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"renderChart",value:function(e,t){var a=this.props,n=a.xFunc,i=a.yFunc,l=a.zFunc,o=a.xLabel,s=a.yLabel,c=a.zLabel,d=a.tooltipTextFunc,u=a.xMetric,h=a.yMetric,p=a.scale,m=a.colorScale,g=a.dataGrouped,y="".concat(e.key,":").concat(h,":").concat(u,":").concat(p),v=P[y];return r.a.createElement(f.a,{sm:12,md:6,lg:4,key:e.key},r.a.createElement(b,null,r.a.createElement(I,{key:e.key,name:e.key,data:e.values,xFunc:n,yFunc:i,zFunc:l,xLabel:o,yLabel:s,zLabel:c,xExtent:_,yExtent:_,tooltipTextFunc:d,colorScale:m,xMetric:u,yMetric:h,scale:p,dataBackground:g,annotations:v})))}},{key:"renderRegion",value:function(e,t){var a=this.props,n=a.sortOrder,i=a.dataGrouped,l=e.region;if("region"===n){if(0===t)return r.a.createElement(f.a,{sm:12,key:l},r.a.createElement("h3",{className:"region"},l));if(l!==i[t-1].region)return r.a.createElement(f.a,{key:l,sm:12},r.a.createElement("h3",{className:"region"},l))}return null}},{key:"renderLegend",value:function(){var e=this.props.colorScale;return r.a.createElement(B,{colorScale:e,domain:[2001,2017]})}},{key:"render",value:function(){var e=this,t=this.props.dataGrouped;return r.a.createElement("div",{className:"SmallMultipleConnected"},r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:6},r.a.createElement("span",{className:"align-middle"},"Data from 2000 to 2017 for ",t.length," countries.")),r.a.createElement(f.a,{sm:6},this.renderLegend())),r.a.createElement(f.g,null,t.map(function(t,a){return[e.renderRegion(t,a),e.renderChart(t,a)]})))}}]),t}(n.Component);R.defaultProps={dataGrouped:[],xMetric:"hdi",yMetric:"gni",scale:"global",colorScale:function(e){return"#333"}};var V=w()(function(e){var t=e.xMetric,a=e.yMetric,n=e.scale,r=e.sortOrder,i=e.dataGrouped,l=D[t].label,o=D[a].label,c=D.year.label,d=function(e){return e[D[t][n]]},u=function(e){return e[D[a][n]]},h=function(e){return e[D.year.display]};return{dataGrouped:i=function(e,t,a,n,r){if(D[t]){var i="gini"===t?"ascending":"descending";e=e.sort(function(e,a){return g[i](e[D[t].sortable],a[D[t].sortable])})}else e="region"===t?e.sort(function(e,t){return g.ascending(e.region,t.region)}):e.sort(function(e,t){return g.ascending(e.key,t.key)});return e}(i=function(e,t,a,n){return e.filter(function(e){return e.valuesFilter=e.values.filter(function(e){return O()(a(e))&&O()(n(e))}),e.valuesFilter.length>t})}(i,3,d,u),r),xLabel:l,yLabel:o,zLabel:c,xFunc:d,yFunc:u,zFunc:h,tooltipTextFunc:function(e){var n;return F((n={},Object(s.a)(n,l,e[D[t].display]),Object(s.a)(n,o,e[D[a].display]),Object(s.a)(n,"Population",e.population),n),{title:"".concat(e.year),valueFormat:L})}}})(R);a(97);function q(e,t){return t.map(function(e){return e.id}).indexOf(e)}var Y=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e));var n=e.configs;a.toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.click=a.click.bind(Object(m.a)(Object(m.a)(a)));var r=q(n.dataDisplay,T.dataDisplay.options);return a.state={dataDisplay:{dropdownOpen:!1,selectIndex:r,selectedId:T.dataDisplay.options[r].id},sortOrder:{dropdownOpen:!1,selectIndex:0,selectedId:T.sortOrder.options[0].id},scale:{dropdownOpen:!1,selectIndex:0,selectedId:T.scale.options[0].id}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.configs,t=this.state.dataDisplay,a=q(e.dataDisplay,T.dataDisplay.options);a!==t.selectIndex&&(t.selectIndex=a,t.selectedId=T.dataDisplay.options[a].id,this.setState({dataDisplay:t}))}},{key:"toggle",value:function(e){this.setState(function(t){var a=t[e];return a.dropdownOpen=!a.dropdownOpen,Object(s.a)({},e,a)})}},{key:"click",value:function(e,t,a){var n=this.props.onClick;this.setState(function(n){var r=n[e];return r.selectIndex=a,r.selectedId=t.id,Object(s.a)({},e,r)}),n&&n(e,t.id)}},{key:"renderDropdown",value:function(e){var t=this,a=this.state[e],n=T[e],i=n.options.map(function(a,n){return r.a.createElement(f.d,{key:a.id,onClick:t.click.bind(t,e,a,n)},a.label)}),l=n.options[a.selectIndex];return r.a.createElement(f.c,{isOpen:this.state[e].dropdownOpen,toggle:this.toggle.bind(this,e)},r.a.createElement(f.f,{caret:!0},l.label),r.a.createElement(f.e,null,i))}},{key:"render",value:function(){return"small"===this.props.size?r.a.createElement("div",{className:"ConfigurePanel"},"Showing ",this.renderDropdown("dataDisplay")):r.a.createElement("div",{className:"ConfigurePanel"},"Showing ",this.renderDropdown("dataDisplay")," sorted ",this.renderDropdown("sortOrder")," using a ",this.renderDropdown("scale")," scale.")}}]),t}(n.Component);a(99),a(101);var U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={hover:null},a.handleMouseover=a.handleMouseover.bind(Object(m.a)(Object(m.a)(a))),a.handleMouseout=a.handleMouseout.bind(Object(m.a)(Object(m.a)(a))),a.highlightCircle=a.highlightCircle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"handleMouseover",value:function(e){var t=this.props,a=t.voronoiDiagram,n=t.mouseRadius,r=g.mouse(e);r=this.zoomTransform.invert(r);var i=a.find(r[0],r[1],n);this.highlightCircle(i&&i.data)}},{key:"handleMouseout",value:function(e){this.highlightCircle(null)}},{key:"highlightCircle",value:function(e){var t,a,n=this.props,r=n.xFunc,i=n.yFunc,l=n.colorScale,o=n.colorBy,s=n.tooltipTextFunc,c=n.onHover,d=this.props,u=d.xScale,h=d.yScale,p=this.state.hover;u=this.zoomTransform.rescaleX(u),h=this.zoomTransform.rescaleY(h),e?(this.highlight.style("display","").style("stroke",l(e[o])).attr("cx",u(r(e))).attr("cy",h(i(e))),s&&this.tooltip.showTooltip(s(e),g.event)):(this.highlight.style("display","none"),this.tooltip.hideTooltip()),a=e,((t=p)||a)&&(!t&&a||t&&!a||t.key!==a.key)&&this.setState({hover:e}),c&&c(e)}},{key:"setup",value:function(){var e=this.props,t=e.plotWidth,a=e.plotHeight,n=e.radius;this.zoomTransform=g.zoomIdentity;var r=g.select(this.root);this.g=r.append("g");var i=this;this.underlay=this.g.append("rect").classed("underlay",!0).attr("width",t).attr("height",a).style("fill","white").style("opacity",1e-4).on("mousemove",function(e){i.handleMouseover(this,e)}).on("mouseleave",function(){i.handleMouseout()}),this.chart=this.g.append("g").classed("chart-group",!0),this.tooltip=A("_tooltip",{xOffset:15,yOffset:40}),this.highlight=this.g.append("circle").attr("class","highlight-circle").attr("r",n+2).style("fill","none").style("pointer-events","none").style("display","none"),this.xAxis=this.g.append("g").classed("x-axis",!0).style("pointer-events","none"),this.xAxis.append("line").classed("bar",!0),this.xAxis.append("text").classed("low",!0),this.xAxis.append("text").classed("high",!0),this.yAxis=this.g.append("g").classed("y-axis",!0).style("pointer-events","none"),this.yAxis.append("line").classed("bar",!0),this.yAxis.append("text").classed("low",!0),this.yAxis.append("text").classed("high",!0),this.yAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.xAxisLabel=this.g.append("text").attr("class","axis-label").attr("text-anchor","middle"),this.update()}},{key:"update",value:function(){var e=this.props.padding;this.g.attr("transform","translate(".concat(e.left," ").concat(e.top,")")),this.updateAxes(),this.updateCanvas()}},{key:"updateAxes",value:function(){var e=this.props,t=e.xMetric,a=e.yMetric,n=e.xLabel,r=e.yLabel,i=e.plotHeight,l=e.plotWidth,o=e.padding;this.xAxis.attr("transform","translate(".concat(0,", ",i,")")),this.xAxis.attr("font-size",10).attr("fill","none"),this.yAxis.attr("font-size",10).attr("fill","none");var s="gini"===t?"more equal":"low",c="gini"===t?"less equal":"high",d="gini"===a?"more equal":"low",u="gini"===a?"less equal":"high";this.xAxis.select(".bar").attr("x1",0).attr("x2",l).attr("y1",0).attr("y2",0).style("stroke-width",1).style("stroke","black").style("fill","none"),this.xAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").text(s),this.xAxis.select(".high").attr("y",9).attr("x",l).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").text(c),this.yAxis.select(".bar").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",i).style("stroke-width",1).style("stroke","black").style("fill","none"),this.yAxis.select(".low").attr("y",9).attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(-i," ").concat(18-o.left,")")).text(d),this.yAxis.select(".high").attr("y",9).attr("x",0).attr("text-anchor","end").attr("fill","#333").attr("dy","0.6em").attr("transform","rotate(270) translate(".concat(0," ",18-o.left,")")).text(u),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-o.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(i+o.top+o.bottom/3,")")).text(n)}},{key:"updateCanvas",value:function(){var e=this.props,t=e.dataBackground,a=e.sizeScale,n=e.width,r=e.height,i=e.padding,l=e.lineWidth,o=e.scale,s=e.lineCanvas,c=e.xValue,d=e.yValue,u=e.radius,h=e.colorValue,p=e.threshold,m=this.state.hover,f=this.canvas.getContext("2d");s.context(f),f.setTransform(1,0,0,1,0,0),f.scale(a,a),f.clearRect(0,0,n,r),f.translate(i.left,i.top),f.lineWidth=l;var y=g.color("#ccc");y.opacity="global"===o?.8:.15,f.strokeStyle=y.toString();var v=null;if(t.forEach(function(e){if(m&&m.country===e.key&&(v=e),e.valuesFilter.length>p){if(m)f.beginPath(),s(e.valuesFilter),f.stroke();else for(var t=0;t<e.valuesFilter.length-1;t++){var a=[e.valuesFilter[t],e.valuesFilter[t+1]],n=h(e.valuesFilter[t]);f.strokeStyle=n.toString(),f.beginPath(),s(a),f.stroke()}e.valuesFilter.forEach(function(e){var t=y;m||(t=h(e)),f.beginPath(),f.arc(c(e),d(e),u,0,2*Math.PI,!1),f.fillStyle=t.toString(),f.fill()})}}),(y=g.color("#888")).opacity="global"===o?.8:.15,f.strokeStyle=y.toString(),v){(y=g.color("white")).opacity=.8,f.lineWidth=5*l,f.strokeStyle=y.toString(),f.beginPath(),s(v.valuesFilter),f.stroke(),f.lineWidth=l,(y=g.color("#888")).opacity="global"===o?.8:.15,f.strokeStyle=y.toString(),f.beginPath(),s(v.valuesFilter),f.stroke();for(var x=0;x<v.valuesFilter.length-1;x++){var b=[v.valuesFilter[x],v.valuesFilter[x+1]],k=h(v.valuesFilter[x]);f.strokeStyle=k.toString(),f.beginPath(),s(b),f.stroke()}v.valuesFilter.forEach(function(e){var t=h(e);f.beginPath(),f.arc(c(e),d(e),u,0,2*Math.PI,!1),f.fillStyle=t.toString(),f.fill()})}}},{key:"updateAxesExact",value:function(){var e=this.props,t=e.xAxis,a=e.yAxis,n=e.xLabel,r=e.yLabel,i=e.plotHeight,l=e.plotWidth,o=e.padding,s=e.xScale,c=e.yScale;this.xAxis.attr("transform","translate(".concat(0,", ",i,")")).call(t.scale(s)),this.yAxis.call(a.scale(c)),this.yAxisLabel.attr("transform","rotate(270) translate(".concat(-i/2," ").concat(18-o.left,")")).text(r),this.xAxisLabel.attr("transform","translate(".concat(l/2," ").concat(i+o.top+o.bottom/3,")")).text(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.height,i=t.width,l=t.sizeScale,o={width:i,height:n};return r.a.createElement("div",{className:"ConnectedScatterPlotGroups"},r.a.createElement("h4",{className:"title"},a),r.a.createElement("div",{className:"chart-container"},r.a.createElement("canvas",{className:"chart-canvas",ref:function(t){e.canvas=t},style:o,width:i*l,height:n*l}),r.a.createElement("svg",{className:"chart",ref:function(t){e.root=t},height:n,width:i})))}}]),t}(n.Component);U.defaultProps={data:[],radius:4,height:300,width:300,name:"",xFunc:function(e){return e.x},yFunc:function(e){return e.x},xLabel:"",yLabel:"",tooltipTextFunc:function(e){return""},colorScale:function(){return"#ddd"}};var X=w()(function(e){var t=e.dataBackground,a=e.xFunc,n=e.yFunc,r=e.zFunc,i=e.colorScale,l=e.height,o=e.width,s=e.scale,c=e.xExtent,d=e.yExtent,u={top:20,right:20,bottom:40,left:40},h=1;window.devicePixelRatio&&(h=window.devicePixelRatio);var p="local"===s?5:2,m="local"===s?3:1,f=o-u.left-u.right,y=l-u.top-u.bottom,v=[];if(t.forEach(function(e){e.valuesFilter=e.values.filter(function(e){return O()(a(e))&&O()(n(e))}),e.valuesFilter.length>3&&(v=v.concat(e.valuesFilter)),e.meanX=g.mean(e.valuesFilter,a),e.meanY=g.mean(e.valuesFilter,n),c||(e.minX=g.min(e.valuesFilter,a),e.maxX=g.max(e.valuesFilter,a)),d||(e.minY=g.min(e.valuesFilter,n),e.maxY=g.max(e.valuesFilter,n))}),!c){var x=g.min(t,function(e){return e.minX}),b=g.max(t,function(e){return e.maxX});c=[x,b]}if(!d){var k=g.min(t,function(e){return e.minY}),w=g.max(t,function(e){return e.maxY});d=[k,w]}var E=g.scaleLinear().domain(c).range([0,f]),S=g.scaleLinear().domain(d).range([y,0]),F=function(e){return E(a(e))},A=function(e){return S(n(e))},j=g.line().x(F).y(A),z=g.line().x(F).y(A),M=function(e){return"#ddd"};i&&(M=function(e){return i(r(e))});var C,L=function(){return Math.random()-.5};C=g.voronoi().x(function(e){return F(e)+L()}).y(function(e){return A(e)+L()}).size([f,y])(v);var _=f/10,D=g.axisLeft(S).tickSizeOuter(0),T=g.axisBottom(E).tickSizeOuter(0);return{line:j,lineCanvas:z,threshold:3,padding:u,plotHeight:y,plotWidth:f,xScale:E,yScale:S,xValue:F,yValue:A,colorValue:M,radius:p,lineWidth:m,voronoiDiagram:C,mouseRadius:_,xAxis:T,yAxis:D,sizeScale:h}},{changeInclude:["dataBackground","scale","sortOrder","width","height","xMetric","yMetric"]})(U);var Z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"renderBigGraph",value:function(){var e=this.props,t=e.dataGrouped,a=e.colorScale,n=e.scale,i=e.xLabel,l=e.yLabel,o=e.zLabel,s=e.xFunc,c=e.yFunc,d=e.zFunc,u=e.xMetric,h=e.yMetric,p=e.tooltipTextFunc;return r.a.createElement(b,null,r.a.createElement(X,{dataBackground:t,xMetric:u,yMetric:h,xFunc:s,yFunc:c,zFunc:d,xLabel:i,yLabel:l,zLabel:o,xExtent:_,yExtent:_,scale:n,colorScale:a,height:600,tooltipTextFunc:p}))}},{key:"render",value:function(){return this.renderBigGraph()}}]),t}(n.Component);Z.defaultProps={dataGrouped:[],xMetric:"hdi",yMetric:"gni",scale:"global",colorScale:function(e){return"#333"}};var J=w()(function(e){var t=e.xMetric,a=e.yMetric,n=D[t].label,r=D[a].label,i=D.year.label;return{scale:"global",xLabel:n,yLabel:r,zLabel:i,xFunc:function(e){return e[D[t].global]},yFunc:function(e){return e[D[a].global]},zFunc:function(e){return e[D.year.display]},tooltipTextFunc:function(e){var i;return F((i={},Object(s.a)(i,n,e[D[t].display]),Object(s.a)(i,r,e[D[a].display]),Object(s.a)(i,"Population",e.population),i),{title:"".concat(e.country," - ").concat(e.year),valueFormat:L})}}})(Z);var K=["country","iso3c","iso2c","region","sub-region"],$={gdp_per_cap:{decimals:0}},Q="NA";function ee(e,t,a){var n=g.min(e,function(e){return e[t]}),r=g.max(e,function(e){return e[t]});return e.forEach(function(e){e[a]=e[t]?(e[t]-n)/(r-n):NaN}),e}var te=["Kuwait","Turkmenistan","Eritrea","Oman","Armenia","Albania"];function ae(e){e.forEach(function(e){Object.keys(e).forEach(function(t){K.includes(t)||(e[t]=e[t]===Q?null:+e[t]),$[t]&&(e[t]=e[t]?M(e[t],$[t].decimals):null)}),e.key="".concat(e.country,":").concat(e.year)});return ee(e=e.filter(function(e){return e.population>3e6&&!te.includes(e.country)}),"hdi","hdi_norm"),ee(e,"gni_per_cap","gni_norm"),ee(e,"efree","efree_norm"),ee(e,"gdp_per_cap","gdp_norm"),ee(e,"gini","gini_norm"),g.nest().key(function(e){return e.country}).entries(e).forEach(function(e){ee(e.values,"gdp_per_cap","gdp_norm_local"),ee(e.values,"gni_per_cap","gni_norm_local"),ee(e.values,"hdi","hdi_norm_local"),ee(e.values,"efree","efree_norm_local"),ee(e.values,"gini","gini_norm_local")}),e}var ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={data:[],dataGrouped:[],focusYear:2017,scatterHover:null,configs:{dataDisplay:"hdi_gdp",sortOrder:"region",scale:"local"},colorScale:g.scaleSequential(g.interpolateOranges).domain([1990,2020])},a.handleScatterHover=a.handleScatterHover.bind(Object(m.a)(Object(m.a)(a))),a.handleConfigClick=a.handleConfigClick.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleScatterHover",value:function(e){var t=this.state.scatterHover;e?t&&t.values.includes(e.key)||this.setState({scatterHover:{values:[e.key]}}):this.setState({scatterHover:null})}},{key:"handleConfigClick",value:function(e,t){var a=this.state.configs;a[e]=t,this.setState({configs:a})}},{key:"componentDidMount",value:function(){var e=this;(function(){var e="".concat("/world_gov_challenge","/data/gov_data_year.csv");return g.csv(e)})().then(ae).then(function(t){var a=function(e){return g.nest().key(function(e){return e.country}).entries(e)}(t);a=function(e){return e.forEach(function(e){e.region=e.values[0].region||"Other",e[D.gdp.sortable]=g.max(e.values,function(e){return e[D.gdp.display]}),e[D.hdi.sortable]=g.max(e.values,function(e){return e[D.hdi.display]}),e[D.efree.sortable]=g.max(e.values,function(e){return e[D.efree.display]}),e[D.gini.sortable]=g.min(e.values,function(e){return e[D.gini.display]})}),e}(a),e.setState({data:t,dataGrouped:a})})}},{key:"renderScatterGNIvsKDI",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,i=t.filter(function(e){return e.year===a}),l=function(e){return e.hdi},o=function(e){return e.gdp_per_cap},c="Human Development Index";return r.a.createElement(b,null,r.a.createElement(z,{data:i,xFunc:o,yFunc:l,xLabel:"GDP per Capita",yLabel:c,hoverData:n,tooltipTextFunc:function(e){var t;return F((t={},Object(s.a)(t,"GDP per Capita",o(e)),Object(s.a)(t,c,l(e)),t),{title:e.country,valueFormat:L})},onHover:this.handleScatterHover,labels:G.hdi}))}},{key:"renderScatterGNIvsEfree",value:function(){var e=this.state,t=e.data,a=e.focusYear,n=e.scatterHover,i=t.filter(function(e){return e.year===a}),l=function(e){return e.gdp_per_cap},o=function(e){return e.efree},c="Economic Freedom Score";return r.a.createElement(b,null,r.a.createElement(z,{data:i,xFunc:l,yFunc:o,xLabel:"GDP per Capita",yLabel:c,hoverData:n,tooltipTextFunc:function(e){var t;return F((t={},Object(s.a)(t,"GDP per Capita",l(e)),Object(s.a)(t,c,o(e)),t),{title:e.country,valueFormat:L})},onHover:this.handleScatterHover,labels:G.efree}))}},{key:"renderBigGraph",value:function(){var e=this.state,t=e.data,a=e.dataGrouped,n=e.configs,i=e.colorScale,l=n.dataDisplay.split("_"),s=Object(o.a)(l,2),c=s[0],d=s[1];return r.a.createElement(J,{data:t,dataGrouped:a,colorScale:i,xMetric:d,yMetric:c})}},{key:"renderSmallMult",value:function(){var e=this.state,t=e.dataGrouped,a=e.configs,n=e.colorScale,i=a.dataDisplay.split("_"),l=Object(o.a)(i,2),s=l[0],c=l[1];return r.a.createElement(V,{dataGrouped:t,xMetric:c,yMetric:s,scale:a.scale,sortOrder:a.sortOrder,colorScale:n})}},{key:"renderConfigPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.configs;return r.a.createElement(Y,{configs:t,size:e,onClick:this.handleConfigClick})}},{key:"renderLegend",value:function(){var e=this.state.colorScale;return r.a.createElement(B,{colorScale:e,domain:[2001,2017]})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.b,null,r.a.createElement(f.g,null,r.a.createElement(f.a,null,r.a.createElement("div",{className:"top-bar"},r.a.createElement("a",{className:"align-middle float-right",href:"http://vallandingham.me/",target:"_blank",rel:"noopener noreferrer"},"vallandingham.me")))),r.a.createElement(f.g,null,r.a.createElement(f.a,null,r.a.createElement("h1",null,"Good Governments Help People Succeed"),r.a.createElement("h5",{className:"author"},"by Jim Vallandingham"))),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:2}),r.a.createElement(f.a,{sm:9},r.a.createElement("div",{className:"blank"}),r.a.createElement("p",null,"What makes a \u201cgood\u201d government?"),r.a.createElement("p",null,"When answering this question, it is easy to fall back on a commonly used measurement like the ",r.a.createElement("strong",null,"Gross Domestic Product (GDP)")," that showcases a government\u2019s power and progress. The GDP measures the value of goods and services produced in a period of time. It ranks countries, and their governments, by output, with more output being associated with a \u201cbetter\u201d government."),r.a.createElement("p",null,"Economic progress is a tempting answer for what makes a government successful but metrics like the GDP ",r.a.createElement("strong",null,"fail")," to explain what makes a government good or bad for the ",r.a.createElement("strong",null,"individuals")," living under that government. A high GDP doesn\u2019t necessarily mean a high quality of life."),r.a.createElement("blockquote",{cite:"Thomas Jefferson"},"The care of human life and happiness, and not their destruction, is the first and only object of good government."),r.a.createElement("p",null,"We, as governed people, need to take a more nuanced look at the quality of government, through the lense of social well-being and enablement of individual progress."))),r.a.createElement(f.g,null,r.a.createElement(f.a,null,r.a.createElement("div",{className:"blank"}),r.a.createElement("h2",null,"New Metrics to Understand Progress"))),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:2}),r.a.createElement(f.a,{sm:9},r.a.createElement("div",{className:"line"}),r.a.createElement("p",null,"From a data perspective, many organizations and researchers have developed a variety of metrics that can be used to better understand a government\u2019s individual impact. We will focus on three of these measurements."),r.a.createElement("p",null,"The ",r.a.createElement("strong",null,"Human Development Index (HDI)")," combines statistics on life expectancy, education, and income per capita to rank countries into tiers of development. This index provides a measure of how good a government is at enabling individuals to do the things they want to do, and be the people they want to be."),r.a.createElement("p",null,"The ",r.a.createElement("strong",null,"Economic Freedom Score"),", calculated by the Heritage Foundation, tracks how well a government enables an individual the freedom to work, produce, consume, and invest in any way they please."),r.a.createElement("p",null,"The ",r.a.createElement("strong",null,"Gini Index")," is a measure of inequality in the distribution of individual or family income. A ",r.a.createElement("strong",null,"lower")," value indicates a more equal distribution of wealth."),r.a.createElement("p",null,"The good news is that these individual well-being metrics are correlated with economic performance metrics like GDP."))),r.a.createElement(f.g,null,r.a.createElement(f.a,{md:6},this.renderScatterGNIvsKDI()),r.a.createElement(f.a,{md:6},this.renderScatterGNIvsEfree())),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:2}),r.a.createElement(f.a,{sm:9},r.a.createElement("div",{className:"blank"}),r.a.createElement("p",null,"Governments ",r.a.createElement("strong",null,"can")," achieve success in being good for both the individuals being governed, and good in the amount of wealth produced."),r.a.createElement("div",{className:"blank"}))),r.a.createElement(f.g,null,r.a.createElement(f.a,null,r.a.createElement("h2",null,"Progress Over Time"))),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:2}),r.a.createElement(f.a,{sm:9},r.a.createElement("div",{className:"line"}),r.a.createElement("p",null,"This simple snapshot of government performance on these metrics is useful, but what is perhaps more interesting is a country\u2019s progress over time, and how values for an individual country change year by year."),r.a.createElement("p",null,"The visualization below allows comparison and exploration of these metrics through"," ",r.a.createElement("strong",null,"connected scatterplots")," for each country."),r.a.createElement("p",null,"The graph uses the ",r.a.createElement("strong",null,"x")," and ",r.a.createElement("strong",null,"y")," dimensions to plot different metrics, with each ",r.a.createElement("strong",null,"year")," of data displayed as a dot, connected together by a line."),r.a.createElement("p",null,"Display options allow us to find connections between countries and patterns within a country, both at a ",r.a.createElement("strong",null,"global")," scale, and also at a"," ",r.a.createElement("strong",null,"country-level")," scale for seeing year-to-year changes up close. Individual country charts are ",r.a.createElement("strong",null,"annotated")," with explanations for the patterns displayed."),r.a.createElement("p",null,"After exploring the visualization"," ",r.a.createElement("a",{href:"http://vallandingham.me/world_gov_challenge/analysis.nb.html",target:"_blank",rel:"noopener noreferrer"},"check out the analysis behind it"),"."),r.a.createElement("p",null,"With this visualization, we can see the progress of the governments of the world toward or away from what is good for their peoples, as well as what is good for economic growth."))),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:12},r.a.createElement("div",{className:"blank"}))),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:6},this.renderConfigPanel("small")),r.a.createElement(f.a,{sm:6},this.renderLegend())),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:12},this.renderBigGraph())),r.a.createElement(f.g,null,r.a.createElement("div",{className:"blank"}),r.a.createElement(f.a,{sm:12},this.renderConfigPanel())),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:12},this.renderSmallMult())),r.a.createElement(f.g,null,r.a.createElement("div",{className:"blank"})),r.a.createElement(f.g,null,r.a.createElement(f.a,{sm:12,className:"footer"},r.a.createElement("p",null,"Jim Vallandingham |"," ",r.a.createElement("a",{href:"http://vallandingham.me",target:"_blank",rel:"noopener noreferrer"},"vallandingham.me")," ","|"," ",r.a.createElement("a",{href:"http://vallandingham.me/world_gov_challenge/analysis.nb.html",target:"_blank",rel:"noopener noreferrer"},"Analysis")," ","| Developed for the"," ",r.a.createElement("a",{href:"https://wdvp.worldgovernmentsummit.org/",target:"_blank",rel:"noopener noreferrer"},"World Data Visualization Prize"))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t,a){e.exports=a(103)},57:function(e,t,a){},59:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[52,2,1]]]);
//# sourceMappingURL=main.ce1c980b.chunk.js.map